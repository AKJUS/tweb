import{i,b as t,eS as u,a7 as c,F as S,eR as G,a0 as d,a3 as _,ch as v,fT as R,t as y,d as C,a as l}from"./index-KPMK1N-c.js";import{d as F,I as n,P,y as T,g as L}from"./appDialogsManager-DZwNlL7T.js";import"./page-CWWtMUGW.js";import"./avatar-Cfg84CnU.js";import"./putPreloader-DhRaCtmJ.js";import"./classNames-C4Mf0-DM.js";import"./htmlToSpan-DhAls8qz.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./textToSvgURL-Cnw_Q8Rw.js";import"./iconTsx-DY1Le2iB.js";import"./fastBlur-Co-79rP4.js";import"./countryInputField-BK8hQSGD.js";import"./chatBackground-CshRx65S.js";import"./codeInputField-CXZjk-lA.js";const E="_Container_1jmgi_1",x="_Label_1jmgi_9",B="_Subtitle_1jmgi_14",O="_center_1jmgi_21",N="_Grid_1jmgi_26",V="_GridValue_1jmgi_34",g={Container:E,Label:x,Subtitle:B,center:O,Grid:N,GridValue:V},Y=y("<span>"),m=y("<div>"),W=y('<div>"<!>"'),h=20,re=F({name:"suggested-post-action-content",component:e=>{e.element.classList.add(g.Container);const a=()=>e.message._==="message"?e.message.suggested_post:void 0,k=()=>!!e.message.reply_to,$=()=>e.action?._==="messageActionSuggestedPostApproval"&&e.action?.schedule_date&&e.action.schedule_date*1e3<=Date.now(),A=()=>e.message.saved_peer_id&&L(e.message.saved_peer_id),b=()=>A()!==C.myId?A():void 0,I=()=>e.action?._==="messageActionSuggestedPostSuccess"&&e.action.price.amount,f=()=>e.action?._==="messageActionSuggestedPostApproval"&&e.action.price?t(n,{get key(){return e.action.price._==="starsTonAmount"?"SuggestedPosts.TONAmount":"Stars"},get args(){return[T(e.action.price.amount)]}}):void 0,o=s=>(()=>{const r=Y();return i(r,()=>S(s)),r})();return[(()=>{const s=m();return i(s,t(G,{get children(){return[t(u,{get when(){return c(()=>!!a())()&&k()},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.SuggestedAChange":"SuggestedPosts.YouSuggestedAChange"},get args(){return e.fromPeerTitle?[e.fromPeerTitle]:void 0}})}}),t(u,{get when(){return a()},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.SuggestedAPost":"SuggestedPosts.YouSuggestedAPost"},get args(){return e.fromPeerTitle?[e.fromPeerTitle]:void 0}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostRefund"},get children(){return t(n,{key:"SuggestedPosts.Refund",get args(){return[t(P,{get peerId(){return A()},onlyFirstName:!0,limitSymbols:h})]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"&&e.action?.pFlags?.balance_too_low},get children(){return t(n,{key:"SuggestedPosts.BalanceTooLow",get args(){return[S("‚ùå")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"&&e.action?.pFlags?.rejected},get children(){return t(n,{get key(){return e.fromPeerTitle?"SuggestedPosts.RejectedAPost":"SuggestedPosts.YouRejectedAPost"},get args(){return c(()=>!!e.fromPeerTitle)()?[S("‚ùå"),e.fromPeerTitle]:[S("‚ùå")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostApproval"},get children(){return t(n,{key:"SuggestedPosts.AgreementReached",get args(){return[o("ü§ù")]}})}}),t(u,{get when(){return e.action?._==="messageActionSuggestedPostSuccess"},get children(){return t(n,{key:"SuggestedPosts.PostSuccess",get args(){return[o("‚úÖ"),t(n,{key:"Stars",get args(){return[T(I())]}})]}})}})]}})),d(()=>l(s,g.Label)),s})(),t(_,{get when(){return a()?.price||a()?.schedule_date},get children(){const s=m();return i(s,t(_,{get when(){return a().price},get children(){return[(()=>{const r=m();return i(r,t(n,{key:"SuggestedPosts.Price"})),d(()=>l(r,g.GridLabel)),r})(),(()=>{const r=m();return i(r,t(n,{get key(){return a().price._==="starsTonAmount"?"SuggestedPosts.TONAmount":"Stars"},get args(){return[T(a().price.amount)]}})),d(()=>l(r,g.GridValue)),r})()]}}),null),i(s,t(_,{get when(){return a().schedule_date},get children(){return[(()=>{const r=m();return i(r,t(n,{key:"SuggestedPosts.Time"})),d(()=>l(r,g.GridLabel)),r})(),(()=>{const r=m();return i(r,()=>v(a().schedule_date)),d(()=>l(r,g.GridValue)),r})()]}}),null),d(()=>l(s,g.Grid)),s}}),c((()=>{const s=c(()=>!!(e.action?._==="messageActionSuggestedPostApproval"&&e.action.reject_comment));return()=>s()&&(()=>{const r=W(),j=r.firstChild,w=j.nextSibling;return w.nextSibling,i(r,()=>e.action.reject_comment,w),d(()=>l(r,`${g.Subtitle} ${g.center}`)),r})()})()),c((()=>{const s=c(()=>e.action?._==="messageActionSuggestedPostApproval"&&!e.action?.pFlags?.balance_too_low&&!e.action?.pFlags?.rejected);return()=>s()&&[t(n,{get class(){return g.Subtitle},get key(){return $()?"SuggestedPosts.AgreementReached.Published":"SuggestedPosts.AgreementReached.ToBePublished"},get args(){return[o("üìÖ"),v(e.action.schedule_date)]}}),t(_,{get when(){return e.action.price},get children(){return[t(n,{get class(){return g.Subtitle},get key(){return b()?"SuggestedPosts.AgreementReached.HasBeenCharged":"SuggestedPosts.AgreementReached.YouHaveBeenCharged"},get args(){return c(()=>!!b())()?[o("üí∞"),t(P,{get peerId(){return b()},onlyFirstName:!0,limitSymbols:h}),f()]:[o("üí∞"),f()]}}),t(n,{get class(){return g.Subtitle},key:"SuggestedPosts.AgreementReached.WillReceive",get args(){return[o("‚è≥"),t(P,{get peerId(){return e.message.peerId},limitSymbols:h}),""+R]}}),t(n,{get class(){return g.Subtitle},key:"SuggestedPosts.AgreementReached.WillBeRefunded",get args(){return[o("üîÑ"),t(P,{get peerId(){return e.message.peerId},limitSymbols:h}),""+R]}})]}})]})())]}});export{re as default};
//# sourceMappingURL=suggestedPostActionContent-Bdv1OGil.js.map
