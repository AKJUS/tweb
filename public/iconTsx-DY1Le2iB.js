import{a5 as le,aB as C,c as W,dF as ne,a1 as ce,af as re,ah as ae,a8 as ie,a2 as F,i as E,a0 as de,t as P,fu as ue,x as w,u as fe,a as me,c5 as Se,bt as he,cH as be,bh as Te,Z as ge,e$ as ve}from"./index-KPMK1N-c.js";import{r as _e,c as Y}from"./classNames-C4Mf0-DM.js";const we=P("<div>"),Ee=P("<div class=scrollable-thumb-container><div class=scrollable-thumb>"),xe=24,f=!ue;let x,L;f?(x=e=>requestAnimationFrame(e),L=e=>cancelAnimationFrame(e)):(x=e=>window.setTimeout(e,xe),L=e=>window.clearTimeout(e));function Ae(e){const l=e.axis??"y",i=l==="x"?"scrollLeft":"scrollTop",k=l==="x"?"scrollWidth":"scrollHeight",D=l==="x"?"clientWidth":"clientHeight",U=l==="x"?"offsetWidth":"offsetHeight",y=l==="x"?"clientX":"clientY",d=()=>u[i],m=()=>u[k],A=()=>u[D],M=()=>u[U],N=()=>m()-Math.round(d()+M()),V=C(()=>e.onScrollOffset??300);let h=0,b=0,O,z,T=!1,S=!1;const[X,q]=W(!0),[Z,j]=W(!0);let r=0;const G=ne(()=>{T=!0,r&&(B(),S=!0)},()=>{T=!1,S&&(g(),S=!1)});ce(G);const g=()=>{if(T){B(),S=!0;return}!e.onScrolledTop&&!e.onScrolledBottom&&!I().length&&!f||r||(r=x(()=>{r=0;const t=d();h=b===t?0:b<t?1:-1,b=t,Q(t),I().forEach(o=>o()),J()}))},B=()=>{r&&(L(r),r=0)},J=()=>{if(!e.onScrolledTop&&!e.onScrolledBottom)return;const t=m();if(!t)return;const o=d(),s=M(),n=V(),a=t-s;e.onScrolledTop&&o<=n&&h<=0&&e.onScrolledTop(),e.onScrolledBottom&&a-o<=n&&h>=0&&e.onScrolledBottom()},K=()=>{q(!d()),j(N()<=1)},Q=(t=d())=>{if(!f||!c)return;const o=m(),s=A(),n=o/s/.75,a=Math.max(20,s/n),v=t/(o-s)*s,R=t/(o-s),_=s-a;s<o?(c.style.height=a+"px",c.style.transform=`translateY(${Math.min(_,v-a*R)}px)`):c.style.height="0px"},I=C(()=>[e.onScroll,e.withBorders&&K].filter(Boolean)),$=t=>{w(t);const o=m(),s=A(),n=c.offsetHeight,a=o-s,v=s-n,_=(t[y]-O)/v*a,se=z+_;u[i]=se},p=t=>{w(t),O=t[y],z=d(),t.target.classList.add("is-focused"),window.addEventListener("mousemove",$),window.addEventListener("mouseup",ee,{once:!0})},ee=t=>{window.removeEventListener("mousemove",$),c.classList.remove("is-focused")},te=t=>{t.stopPropagation();const o=t.target;!t.deltaX&&o.scrollWidth>o.clientWidth&&(o.scrollLeft+=t.deltaY/4,w(t))},oe=()=>{f&&c&&g()},H=_e(()=>e.children);re(ae(H,oe));let u,c;return(()=>{const t=we();return ie(t,"wheel",l==="x"&&!fe&&te||void 0),t.addEventListener("scroll",g),F(o=>(u=o,e.ref?.(o)),t),E(t,f&&l==="y"&&(()=>{const o=Ee(),s=o.firstChild;return s.$$mousedown=p,F(n=>{c=n,e.thumbRef?.(n)},s),o})(),null),E(t,H,null),de(()=>me(t,Y("scrollable",`scrollable-${l}`,e.class,Se&&!he&&"no-scrollbar",...e.withBorders?[X()&&"scrolled-start",Z()&&"scrolled-end",l==="y"&&"scrollable-y-bordered",(e.withBorders==="top"||e.withBorders==="both")&&"scrollable-y-bordered-top",(e.withBorders==="bottom"||e.withBorders==="both")&&"scrollable-y-bordered-bottom"]:[]))),t})()}le(["mousedown"]);const Le=P("<span>"),Me=e=>{const[,l]=be(e,["icon"]);return(()=>{const i=Le();return Te(i,ge(l,{get class(){return Y("tgico",e.class)}}),!1,!0),E(i,()=>ve(e.icon)),i})()};export{Me as I,Ae as S};
//# sourceMappingURL=iconTsx-DY1Le2iB.js.map
