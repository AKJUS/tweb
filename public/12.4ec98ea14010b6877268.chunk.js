(this.webpackJsonp=this.webpackJsonp||[]).push([[12,4,7,19,21,26],{14:function(e,t,n){"use strict";n.r(t),n.d(t,"isTouchSupported",(function(){return a}));const a="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch},16:function(e,t,n){"use strict";n.r(t),n.d(t,"ripple",(function(){return d}));var a=n(3),s=n(63),i=n(14),o=n(13);let r=0;function d(e,t=(()=>Promise.resolve()),n=null,d=!1){if(e.querySelector(".c-ripple"))return;e.classList.add("rp");let h=document.createElement("div");h.classList.add("c-ripple");let c;e.classList.contains("rp-square")&&h.classList.add("is-square"),e[d?"prepend":"append"](h);const p=(e,a)=>{const o=Date.now(),d=document.createElement("div"),p=r++,X=1e3*+window.getComputedStyle(h).getPropertyValue("--ripple-duration").replace("s","");c=()=>{let e=Date.now()-o;const t=()=>{s.a.mutate(()=>{d.remove()}),n&&n(p)};if(e<X){let n=Math.max(X-e,X/2);setTimeout(()=>d.classList.add("hiding"),Math.max(n-X/2,0)),setTimeout(t,n)}else d.classList.add("hiding"),setTimeout(t,X/2);i.isTouchSupported||window.removeEventListener("contextmenu",c),c=null,u=!1},t&&t(p),window.requestAnimationFrame(()=>{const t=h.getBoundingClientRect();d.classList.add("c-ripple__circle");const n=e-t.left,s=a-t.top,i=Math.sqrt(Math.pow(Math.abs(s-t.height/2)+t.height/2,2)+Math.pow(Math.abs(n-t.width/2)+t.width/2,2)),o=n-i/2,r=s-i/2;d.style.width=d.style.height=i+"px",d.style.left=o+"px",d.style.top=r+"px",h.append(d)})},X=t=>t.target!==e&&(["BUTTON","A"].includes(t.target.tagName)||Object(a.a)(t.target,"c-ripple")!==h);let u=!1;if(i.isTouchSupported){let t=()=>{c&&c()};e.addEventListener("touchstart",n=>{if(!o.default.settings.animationsEnabled)return;if(n.touches.length>1||u||X(n))return;u=!0;let{clientX:a,clientY:s}=n.touches[0];p(a,s),e.addEventListener("touchend",t,{once:!0}),window.addEventListener("touchmove",n=>{n.cancelBubble=!0,n.stopPropagation(),t(),e.removeEventListener("touchend",t)},{once:!0})},{passive:!0})}else e.addEventListener("mousedown",t=>{if(![0,2].includes(t.button))return;if(!o.default.settings.animationsEnabled)return;if("0"===e.dataset.ripple||X(t))return;if(u)return void(u=!1);let{clientX:n,clientY:a}=t;p(n,a),window.addEventListener("mouseup",c,{once:!0,passive:!0}),window.addEventListener("contextmenu",c,{once:!0,passive:!0})},{passive:!0})}},19:function(e,t,n){"use strict";n.r(t);var a=n(33),s=n(36),i=n(15),o=n(71),r=n(60),d=n(31),h=n(81),c=n(88),p=n(29),X=n(12),u=n(78),l=n(2),m=n(28),g=n(95),C=n(35),f=n(46);let v;const _=new r.a("page-password",!0,()=>{const e=new u.a({className:"page-password",withInputWrapper:!0,titleLangKey:"Login.Password.Title",subtitleLangKey:"Login.Password.Subtitle"}),t=Object(d.a)("btn-primary btn-color-primary"),i=new X.default.IntlElement({key:"Login.Next"});t.append(i.element);const r=new h.a({label:"LoginPassword",name:"password"});let _;v=r.input,e.inputWrapper.append(r.container,t);let j,b=()=>(_||(_=window.setInterval(b,1e4)),o.a.getState().then(e=>{j=e,j.hint?Object(C.a)(r.label,Object(g.a)(p.b.wrapEmojiText(j.hint))):r.setLabel()}));const S=e=>{if(e&&Object(l.a)(e),!v.value.length)return void v.classList.add("error");const s=Object(f.a)([v,t],!0);let d=v.value;i.update({key:"PleaseWait"});const h=Object(a.f)(t);o.a.check(d,j).then(e=>{switch(e._){case"auth.authorization":clearInterval(_),n.e(5).then(n.bind(null,17)).then(e=>{e.default.mount()}),w&&w.remove();break;default:t.removeAttribute("disabled"),i.update({key:e._}),h.remove()}}).catch(e=>{s(),r.input.classList.add("error"),e.type,i.update({key:"PASSWORD_HASH_INVALID"}),v.select(),h.remove(),b()})};Object(m.b)(t,S),v.addEventListener("keypress",(function(e){if(this.classList.remove("error"),i.update({key:"Login.Next"}),"Enter"===e.key)return S()}));const P=s.b.isMobile?100:166,w=new c.a(r,P);return e.imageDiv.append(w.container),Promise.all([w.load(),b()])},null,()=>{v.focus(),i.default.pushToState("authState",{_:"authStatePassword"})});t.default=_},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i}));const a=n(14).isTouchSupported?"mousedown":"click";function s(e,t,n={}){const s=n.listenerSetter?n.listenerSetter.add.bind(n.listenerSetter,e):e.addEventListener.bind(e);n.listenerSetter?n.listenerSetter.removeManual.bind(n.listenerSetter,e):e.removeEventListener.bind(e);n.touchMouseDown=!0,s(a,t,n)}function i(e,t,n){"touchend"===a?e.removeEventListener("touchstart",t,n):e.removeEventListener(a,t,n)}},31:function(e,t,n){"use strict";var a=n(12),s=n(16);t.a=(e,t={})=>{const n=document.createElement(t.asDiv?"div":"button");return n.className=e+(t.icon?" tgico-"+t.icon:""),t.noRipple||(t.rippleSquare&&n.classList.add("rp-square"),Object(s.ripple)(n)),t.onlyMobile&&n.classList.add("only-handhelds"),t.disabled&&n.setAttribute("disabled","true"),t.text&&n.append(Object(a.i18n)(t.text)),n}},33:function(e,t,n){"use strict";n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return X})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return C})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return S}));var a=n(26),s=n(65),i=n(2),o=n(28),r=n(36),d=n(14),h=n(0),c=n(44);function p(e,t=!1){const n='\n  <svg xmlns="http://www.w3.org/2000/svg" class="preloader-circular" viewBox="25 25 50 50">\n  <circle class="preloader-path" cx="50" cy="50" r="20" fill="none" stroke-miterlimit="10"/>\n  </svg>';if(t){const t=document.createElement("div");return t.classList.add("preloader"),t.innerHTML=n,e&&e.appendChild(t),t}return e.insertAdjacentHTML("beforeend",n),e.lastElementChild}function X(e,t="check"){return e.classList.remove("tgico-"+t),e.disabled=!0,p(e),()=>{e.innerHTML="",e.classList.add("tgico-"+t),e.removeAttribute("disabled")}}let u;function l(e){let t=(e=e.replace(/\D/g,"")).slice(0,6);u||(u=s.b.slice().sort((e,t)=>t.phoneCode.length-e.phoneCode.length));let n=u.find(e=>e.phoneCode.split(" and ").find(e=>0===t.indexOf(e.replace(/\D/g,""))));return n?(n=s.a[n.phoneCode]||n,(n.pattern||n.phoneCode).split("").forEach((t,n)=>{" "===t&&" "!==e[n]&&e.length>n&&(e=e.slice(0,n)+" "+e.slice(n))}),{formatted:e,country:n}):{formatted:e,country:n}}a.a.putPreloader=p;let m=e=>{let t=f.getBoundingClientRect(),{clientX:n,clientY:a}=e,s=n>=t.right?n-t.right:t.left-n,i=a>=t.bottom?a-t.bottom:t.top-a;(s>=100||i>=100)&&C()};const g=e=>{C()},C=()=>{f&&(f.classList.remove("active"),f.parentElement.classList.remove("menu-open"),_&&_.remove(),f=null),v&&(v(),v=null),d.isTouchSupported||(window.removeEventListener("mousemove",m),window.removeEventListener("contextmenu",g)),document.removeEventListener(o.a,g),h.isMobileSafari||c.a.removeByType("menu")};window.addEventListener("resize",()=>{f&&C()});let f=null,v=null,_=null;function j(e,t){C(),h.isMobileSafari||c.a.pushItem({type:"menu",onPop:e=>{C()}}),f=e,f.classList.add("active"),f.parentElement.classList.add("menu-open"),_||(_=document.createElement("div"),_.classList.add("btn-menu-overlay"),_.addEventListener(o.a,e=>{Object(i.a)(e),g()})),f.parentElement.insertBefore(_,f),v=t,d.isTouchSupported||(window.addEventListener("mousemove",m),window.addEventListener("contextmenu",g,{once:!0})),document.addEventListener(o.a,g)}function b({pageX:e,pageY:t},n,a){let{scrollWidth:s,scrollHeight:i}=n;const o=document.body.getBoundingClientRect(),d=o.width,h=o.height;a=r.b.isMobile?"right":"left";let c="top";const p={x:{left:e,right:e-s},intermediateX:"right"===a?8:d-s-8,y:{top:t,bottom:t-i},intermediateY:t<h/2?8:h-i-8},X={left:p.x.left+s+8<=d,right:p.x.right>=8},u={top:p.y.top+i+8<=h,bottom:p.y.bottom-8>=8};{let e;e=X[a]?p.x[a]:(a="center",p.intermediateX),n.style.left=e+"px"}{let e;e=u[c]?p.y[c]:(c="center",p.intermediateY),n.style.top=e+"px"}n.className=n.className.replace(/(top|center|bottom)-(left|center|right)/g,""),n.classList.add(("center"===c?c:"bottom")+"-"+("center"===a?a:"left"===a?"right":"left"))}function S(e,t,n){const a=n?n.add.bind(n,e):e.addEventListener.bind(e),s=n?n.removeManual.bind(n,e):e.removeEventListener.bind(e);if(h.isApple&&d.isTouchSupported){let n;const o={capture:!0},r=()=>{clearTimeout(n),s("touchmove",r,o),s("touchend",r,o),s("touchcancel",r,o)};a("touchstart",s=>{s.touches.length>1?r():(a("touchmove",r,o),a("touchend",r,o),a("touchcancel",r,o),n=window.setTimeout(()=>{t(s.touches[0]),r(),f&&e.addEventListener("touchend",i.a,{once:!0})},400))})}else a("contextmenu",d.isTouchSupported?n=>{t(n),f&&e.addEventListener("touchend",i.a,{once:!0})}:t)}},34:function(e,t,n){"use strict";var a=n(33),s=n(26),i=n(90);function o(e){return e&&e.toLowerCase()||""}var r=n(48),d=n(30),h=n(12),c=n(27),p=n(91),X=n(55),u=n(29),l=n(13),m=n(87),g=n(58),C=n(39),f=n(40),v=n(15);const _=new class{constructor(){this.storage=v.default.storages.users,this.updateUsersStatuses=()=>{const e=Object(r.h)(!0);for(const t in this.users){const n=this.users[t];n.status&&"userStatusOnline"===n.status._&&n.status.expires<e&&(n.status={_:"userStatusOffline",was_online:n.status.expires},l.default.dispatchEvent("user_update",n.id),this.setUserToStateIfNeeded(n))}},this.clear(!0),setInterval(this.updateUsersStatuses,6e4),l.default.addEventListener("state_synchronized",this.updateUsersStatuses),l.default.addMultipleEventsListeners({updateUserStatus:e=>{const t=e.user_id,n=this.users[t];n&&(n.status=e.status,n.status&&("expires"in n.status&&(n.status.expires-=X.a.serverTimeOffset),"was_online"in n.status&&(n.status.was_online-=X.a.serverTimeOffset)),l.default.dispatchEvent("user_update",t),this.setUserToStateIfNeeded(n))},updateUserPhoto:e=>{const t=e.user_id,n=this.users[t];n?(this.forceUserOnline(t),"userProfilePhotoEmpty"===e.photo._?delete n.photo:n.photo=Object(d.i)(n.photo,e.photo),this.setUserToStateIfNeeded(n),l.default.dispatchEvent("user_update",t),l.default.dispatchEvent("avatar_update",t)):console.warn("No user by id:",t)},updateUserName:e=>{const t=e.user_id,n=this.users[t];n&&(this.forceUserOnline(t),this.saveApiUser(Object.assign({},n,{first_name:e.first_name,last_name:e.last_name,username:e.username}),!0))}}),l.default.addEventListener("language_change",e=>{const t=this.getSelf().id;this.contactsIndex.indexObject(t,this.getUserSearchText(t))}),v.default.getState().then(e=>{const t=v.default.storagesResults.users;if(t.length)for(let e=0,n=t.length;e<n;++e){const n=t[e];n&&(this.users[n.id]=n)}const n=e.contactsList;n&&Array.isArray(n)&&(n.forEach(e=>{this.pushContact(e)}),n.length&&(this.contactsFillPromise=Promise.resolve(this.contactsList))),v.default.addEventListener("peerNeeded",e=>{e<0||this.storage.getFromCache(e)||this.storage.set({[e]:this.getUser(e)})}),v.default.addEventListener("peerUnneeded",e=>{e<0||!this.storage.getFromCache(e)||this.storage.delete(e)})})}clear(e=!1){if(e)this.users={},this.usernames={};else{const e=v.default.storagesResults.users;for(const t in this.users){const n=+t;if(n&&!v.default.isPeerNeeded(n)){const t=this.users[n];t.username&&delete this.usernames[o(t.username)],e.findAndSplice(e=>e.id===n),this.storage.delete(n),delete this.users[n]}}}this.contactsIndex=new m.a,this.contactsFillPromise=void 0,this.contactsList=new Set,this.updatedContactsList=!1}onContactsModified(){const e=[...this.contactsList];v.default.pushToState("contactsList",e)}fillContacts(){if(this.contactsFillPromise&&this.updatedContactsList)return this.contactsFillPromise;this.updatedContactsList=!0;const e=c.a.invokeApi("contacts.getContacts").then(t=>("contacts.contacts"===t._&&(this.saveApiUsers(t.users),t.contacts.forEach(e=>{this.pushContact(e.user_id)}),this.onContactsModified()),this.contactsFillPromise=e,this.contactsList));return this.contactsFillPromise||(this.contactsFillPromise=e)}resolveUsername(e){return"@"===e[0]&&(e=e.slice(1)),e=e.toLowerCase(),this.usernames[e]?Promise.resolve(this.users[this.usernames[e]]):c.a.invokeApi("contacts.resolveUsername",{username:e}).then(e=>(this.saveApiUsers(e.users),C.a.saveApiChats(e.chats),f.a.getPeer(f.a.getPeerId(e.peer))))}pushContact(e){this.contactsList.add(e),this.contactsIndex.indexObject(e,this.getUserSearchText(e)),v.default.requestPeer(e,"contacts")}getUserSearchText(e){const t=this.users[e];if(!t)return"";return[t.first_name,t.last_name,t.phone,t.username,t.pFlags.self?h.default.format("SavedMessages",!0):"",t.pFlags.self?"Saved Messages":""].filter(Boolean).join(" ")}getContacts(e,t=!1){return this.fillContacts().then(n=>{let a=[...n];if(e){const t=this.contactsIndex.search(e);a=[...a].filter(e=>t.has(e))}return a.sort((e,t)=>{const n=(this.users[e]||{}).sortName||"",a=(this.users[t]||{}).sortName||"";return n.localeCompare(a)}),t&&this.testSelfSearch(e)&&(a.findAndSplice(e=>e===l.default.myId),a.unshift(l.default.myId)),a})}toggleBlock(e,t){return c.a.invokeApi(t?"contacts.block":"contacts.unblock",{id:f.a.getInputPeerById(e)}).then(n=>(n&&g.a.processLocalUpdate({_:"updatePeerBlocked",peer_id:f.a.getOutputPeer(e),blocked:t}),n))}testSelfSearch(e){const t=this.getSelf(),n=new m.a;return n.indexObject(t.id,this.getUserSearchText(t.id)),n.search(e).has(t.id)}saveApiUsers(e,t){e.forEach(e=>this.saveApiUser(e,t))}saveApiUser(e,t){var n,a;if("userEmpty"===e._)return;const s=e.id,r=this.users[s];if(void 0===e.pFlags&&(e.pFlags={}),e.pFlags.min&&void 0!==r)return;const h=e.first_name+" "+(e.last_name||"");if(e.username){const t=o(e.username);this.usernames[t]=s}e.sortName=e.pFlags.deleted?"":Object(i.a)(h,!1),e.initials=u.a.getAbbreviation(h),e.status&&(e.status.expires&&(e.status.expires-=X.a.serverTimeOffset),e.status.was_online&&(e.status.was_online-=X.a.serverTimeOffset));let c=!1,p=!1;if(void 0===r)this.users[s]=e;else{e.first_name===r.first_name&&e.last_name===r.last_name&&e.username===r.username||(p=!0);(null===(n=r.photo)||void 0===n?void 0:n.photo_id)!==(null===(a=e.photo)||void 0===a?void 0:a.photo_id)&&(c=!0),Object(d.i)(r,e),l.default.dispatchEvent("user_update",s)}c&&l.default.dispatchEvent("avatar_update",e.id),p&&l.default.dispatchEvent("peer_title_edit",e.id),this.setUserToStateIfNeeded(e)}setUserToStateIfNeeded(e){v.default.isPeerNeeded(e.id)&&this.storage.set({[e.id]:e})}formatUserPhone(e){return"+"+Object(a.c)(e).formatted}getUserStatusForSort(e){if("number"==typeof e&&(e=this.getUser(e).status),e){const t="userStatusOnline"===e._?e.expires:"userStatusOffline"===e._?e.was_online:0;if(t)return t;switch(e._){case"userStatusRecently":return 3;case"userStatusLastWeek":return 2;case"userStatusLastMonth":return 1}}return 0}getUser(e){return Object(d.f)(e)?e:this.users[e]||{id:e,pFlags:{deleted:!0},access_hash:""}}getSelf(){return this.getUser(l.default.myId)}getUserStatusString(e){var t;let n,a;switch(e){case p.a:n="Peer.RepliesNotifications";break;case 777e3:n="Peer.ServiceNotifications";break;default:{if(this.isBot(e)){n="Bot";break}const s=this.getUser(e);if(!s){n="";break}if(s.pFlags.support){n="SupportStatus";break}switch(null===(t=s.status)||void 0===t?void 0:t._){case"userStatusRecently":n="Lately";break;case"userStatusLastWeek":n="WithinAWeek";break;case"userStatusLastMonth":n="WithinAMonth";break;case"userStatusOffline":{const e=s.status.was_online,t=Date.now()/1e3;if(t-e<60)n="Peer.Status.justNow";else if(t-e<3600){n="Peer.Status.minAgo";a=[(t-e)/60|0]}else if(t-e<86400){n="LastSeen.HoursAgo";a=[(t-e)/3600|0]}else{n="Peer.Status.LastSeenAt";const t=new Date(1e3*e);a=[("0"+t.getDate()).slice(-2)+"."+("0"+(t.getMonth()+1)).slice(-2),("0"+t.getHours()).slice(-2)+":"+("0"+t.getMinutes()).slice(-2)]}break}case"userStatusOnline":n="Online";break;default:n="ALongTimeAgo"}break}}return Object(h.i18n)(n,a)}isBot(e){return this.users[e]&&this.users[e].pFlags.bot}isContact(e){return this.contactsList.has(e)}isRegularUser(e){const t=this.users[e];return t&&!this.isBot(e)&&!t.pFlags.deleted&&!t.pFlags.support}isNonContactUser(e){return this.isRegularUser(e)&&!this.isContact(e)&&e!==l.default.myId}hasUser(e,t){var n=this.users[e];return Object(d.f)(n)&&(t||!n.pFlags.min)}canSendToUser(e){const t=this.getUser(e);return!t.pFlags.deleted&&"replies"!==t.username}getUserPhoto(e){const t=this.getUser(e);return t&&t.photo||{_:"userProfilePhotoEmpty"}}getUserString(e){const t=this.getUser(e);return"u"+e+(t.access_hash?"_"+t.access_hash:"")}getUserInput(e){const t=this.getUser(e);return t.pFlags&&t.pFlags.self?{_:"inputUserSelf"}:{_:"inputUser",user_id:e,access_hash:t.access_hash}}forceUserOnline(e,t){if(this.isBot(e))return;const n=Object(r.h)(!0);if(t){if(n-t>=60)return}else if(g.a.updatesState.syncLoading)return;const a=this.getUser(e);a&&a.status&&"userStatusOnline"!==a.status._&&"userStatusEmpty"!==a.status._&&!a.pFlags.support&&!a.pFlags.deleted&&(a.status={_:"userStatusOnline",expires:n+60},l.default.dispatchEvent("user_update",e),this.setUserToStateIfNeeded(a))}getTopPeers(){return this.getTopPeersPromise?this.getTopPeersPromise:this.getTopPeersPromise=v.default.getState().then(e=>{var t;return(null===(t=null==e?void 0:e.topPeers)||void 0===t?void 0:t.length)?e.topPeers:c.a.invokeApi("contacts.getTopPeers",{correspondents:!0,offset:0,limit:15,hash:0}).then(e=>{let t=[];return"contacts.topPeers"===e._&&(this.saveApiUsers(e.users),C.a.saveApiChats(e.chats),e.categories.length&&(t=e.categories[0].peers.map(e=>{const t=f.a.getPeerId(e.peer);return v.default.requestPeer(t,"topPeer"),t}))),v.default.pushToState("topPeers",t),t})})}getBlocked(e=0,t=0){return c.a.invokeApi("contacts.getBlocked",{offset:e,limit:t}).then(e=>{this.saveApiUsers(e.users),C.a.saveApiChats(e.chats);return{count:"contacts.blocked"===e._?e.users.length+e.chats.length:e.count,peerIds:e.users.map(e=>e.id).concat(e.chats.map(e=>-e.id))}})}searchContacts(e,t=20){return c.a.invokeApi("contacts.search",{q:e,limit:t}).then(e=>{this.saveApiUsers(e.users),C.a.saveApiChats(e.chats);return{my_results:[...new Set(e.my_results.map(e=>f.a.getPeerId(e)))],results:e.results.map(e=>f.a.getPeerId(e))}})}onContactUpdated(e,t){t!==this.isContact(e)&&(t?this.pushContact(e):this.contactsList.delete(e),this.onContactsModified(),l.default.dispatchEvent("contacts_update",e))}updateUsername(e){return c.a.invokeApi("account.updateUsername",{username:e}).then(e=>{this.saveApiUser(e)})}setUserStatus(e,t){if(this.isBot(e))return;const n=this.users[e];if(n){const a=t?{_:"userStatusOffline",was_online:Object(r.h)(!0)}:{_:"userStatusOnline",expires:Object(r.h)(!0)+500};n.status=a,l.default.dispatchEvent("user_update",e)}}addContact(e,t,n,a,s){return c.a.invokeApi("contacts.addContact",{id:this.getUserInput(e),first_name:t,last_name:n,phone:a,add_phone_privacy_exception:s}).then(t=>{g.a.processUpdateMessage(t,{override:!0}),this.onContactUpdated(e,!0)})}deleteContacts(e){return c.a.invokeApi("contacts.deleteContacts",{id:e.map(e=>this.getUserInput(e))}).then(t=>{g.a.processUpdateMessage(t,{override:!0}),e.forEach(e=>{this.onContactUpdated(e,!1)})})}};s.a.appUsersManager=_;t.a=_},39:function(e,t,n){"use strict";var a=n(26),s=n(30),i=n(27),o=n(29),r=n(13),d=n(58),h=n(40),c=n(15),p=n(34);const X=new class{constructor(){this.storage=c.default.storages.chats,this.onChatUpdated=(e,t)=>{d.a.processUpdateMessage(t),t&&this.isChannel(e)&&r.default.dispatchEvent("invalidate_participants",e)},this.clear(!0),r.default.addMultipleEventsListeners({updateChannelParticipant:e=>{i.a.clearCache("channels.getParticipants",t=>t.channel.channel_id===e.channel_id)},updateChatDefaultBannedRights:e=>{const t=-h.a.getPeerId(e.peer),n=this.chats[t];n&&(n.default_banned_rights=e.default_banned_rights,r.default.dispatchEvent("chat_update",t))}}),c.default.getState().then(e=>{const t=c.default.storagesResults.chats;if(t.length)for(let e=0,n=t.length;e<n;++e){const n=t[e];n&&(this.chats[n.id]=n)}c.default.addEventListener("peerNeeded",e=>{e>0||this.storage.getFromCache(-e)||this.storage.set({[-e]:this.getChat(-e)})}),c.default.addEventListener("peerUnneeded",e=>{e>0||!this.storage.getFromCache(-e)||this.storage.delete(-e)})})}clear(e=!1){if(e)this.chats={};else{const e=c.default.storagesResults.chats;for(const t in this.chats){const n=+t;n&&(c.default.isPeerNeeded(-n)||(e.findAndSplice(e=>e.id===n),this.storage.delete(n),delete this.chats[n]))}}}saveApiChats(e,t){e.forEach(e=>this.saveApiChat(e,t))}saveApiChat(e,t){var n,a;if("chatEmpty"===e._)return;const i=this.chats[e.id];if(void 0===e.pFlags&&(e.pFlags={}),e.pFlags.min&&void 0!==i)return;e.initials=o.a.getAbbreviation(e.title),"channel"===e._&&void 0===e.participants_count&&void 0!==i&&i.participants_count&&(e.participants_count=i.participants_count);let d=!1,h=!1;if(void 0===i)this.chats[e.id]=e;else{(null===(n=i.photo)||void 0===n?void 0:n.photo_id)!==(null===(a=e.photo)||void 0===a?void 0:a.photo_id)&&(d=!0),i.title!==e.title&&(h=!0),Object(s.i)(i,e),r.default.dispatchEvent("chat_update",e.id)}d&&r.default.dispatchEvent("avatar_update",-e.id),h&&r.default.dispatchEvent("peer_title_edit",-e.id),c.default.isPeerNeeded(-e.id)&&this.storage.set({[e.id]:e})}getChat(e){return e<0&&(e=-e),this.chats[e]||{_:"chatEmpty",id:e,deleted:!0,access_hash:"",pFlags:{}}}combineParticipantBannedRights(e,t){const n=this.getChat(e);if(n.default_banned_rights){t=Object(s.a)(t);const e=n.default_banned_rights.pFlags;for(let n in e)t.pFlags[n]=e[n]}return t}hasRights(e,t,n,a){const s=this.getChat(e);if("chatEmpty"===s._)return!1;if("chatForbidden"===s._||"channelForbidden"===s._||s.pFlags.kicked||s.pFlags.left&&!s.pFlags.megagroup)return!1;if(s.pFlags.creator&&void 0===n)return!0;if(!n&&!(n=s.admin_rights||s.banned_rights||s.default_banned_rights))return!1;let i={};switch(n&&(i=n.pFlags),t){case"embed_links":case"send_games":case"send_gifs":case"send_inline":case"send_media":case"send_messages":case"send_polls":case"send_stickers":if(!a&&s.pFlags.left)return!1;if("chatBannedRights"===n._&&i[t])return!1;if("channel"===s._&&!s.pFlags.megagroup&&!i.post_messages)return!1;break;case"delete_messages":return!!i.delete_messages;case"pin_messages":return"chatAdminRights"===n._?i[t]||!!i.post_messages:!i[t];case"invite_users":case"change_info":return"chatAdminRights"===n._?i[t]:!i[t];case"change_type":case"delete_chat":return!1;case"change_permissions":return"chatAdminRights"===n._&&i.ban_users;case"view_participants":return!("chat"!==s._&&s.pFlags.broadcast&&!s.pFlags.creator&&!s.admin_rights)}return!0}editChatDefaultBannedRights(e,t){const n=this.getChat(e);return n.default_banned_rights&&n.default_banned_rights.until_date===t.until_date&&Object(s.b)(n.default_banned_rights.pFlags,t.pFlags)?Promise.resolve():i.a.invokeApi("messages.editChatDefaultBannedRights",{peer:h.a.getInputPeerById(-e),banned_rights:t}).then(this.onChatUpdated.bind(this,e))}isChannel(e){const t=this.chats[e];return t&&("channel"===t._||"channelForbidden"===t._)}isMegagroup(e){const t=this.chats[e];return t&&"channel"===t._&&t.pFlags.megagroup}isBroadcast(e){return this.isChannel(e)&&!this.isMegagroup(e)}isInChat(e){let t=!0;const n=this.getChat(e);return("channelForbidden"===n._||"chatForbidden"===n._||"chatEmpty"===n._||n.pFlags.left||n.pFlags.kicked||n.pFlags.deactivated)&&(t=!1),t}getChannelInput(e){const t=this.getChat(e);return"chatEmpty"!==t._&&t.access_hash?{_:"inputChannel",channel_id:e,access_hash:t.access_hash||"0"}:{_:"inputChannelEmpty"}}getChatInputPeer(e){return{_:"inputPeerChat",chat_id:e}}getChannelInputPeer(e){return{_:"inputPeerChannel",channel_id:e,access_hash:this.getChat(e).access_hash||0}}hasChat(e,t){const n=this.chats[e];return Object(s.f)(n)&&(t||!n.pFlags.min)}getChatPhoto(e){const t=this.getChat(e);return t&&t.photo||{_:"chatPhotoEmpty"}}getChatString(e){const t=this.getChat(e);return this.isChannel(e)?(this.isMegagroup(e)?"s":"c")+e+"_"+t.access_hash:"g"+e}createChannel(e,t){return i.a.invokeApi("channels.createChannel",{broadcast:!0,title:e,about:t}).then(e=>{d.a.processUpdateMessage(e);const t=e.chats[0].id;return r.default.dispatchEvent("history_focus",{peerId:-t}),t})}inviteToChannel(e,t){const n=this.getChannelInput(e),a=t.map(e=>p.a.getUserInput(e));return i.a.invokeApi("channels.inviteToChannel",{channel:n,users:a}).then(e=>{d.a.processUpdateMessage(e)})}createChat(e,t){return i.a.invokeApi("messages.createChat",{users:t.map(e=>p.a.getUserInput(e)),title:e}).then(e=>{d.a.processUpdateMessage(e);const t=e.chats[0].id;return r.default.dispatchEvent("history_focus",{peerId:-t}),t})}leaveChannel(e){return i.a.invokeApi("channels.leaveChannel",{channel:this.getChannelInput(e)}).then(this.onChatUpdated.bind(this,e))}joinChannel(e){return i.a.invokeApi("channels.joinChannel",{channel:this.getChannelInput(e)}).then(this.onChatUpdated.bind(this,e))}addChatUser(e,t,n=100){return i.a.invokeApi("messages.addChatUser",{chat_id:e,user_id:p.a.getUserInput(t),fwd_limit:n}).then(this.onChatUpdated.bind(this,e))}deleteChatUser(e,t){return i.a.invokeApi("messages.deleteChatUser",{chat_id:e,user_id:p.a.getUserInput(t)}).then(this.onChatUpdated.bind(this,e))}leaveChat(e){return this.deleteChatUser(e,p.a.getSelf().id)}leave(e){return this.isChannel(e)?this.leaveChannel(e):this.leaveChat(e)}delete(e){return this.isChannel(e)?this.deleteChannel(e):this.deleteChat(e)}deleteChannel(e){return i.a.invokeApi("channels.deleteChannel",{channel:this.getChannelInput(e)}).then(this.onChatUpdated.bind(this,e))}deleteChat(e){return i.a.invokeApi("messages.deleteChat",{chat_id:e})}migrateChat(e){const t=this.getChat(e);return"channel"===t._?Promise.resolve(t.id):i.a.invokeApi("messages.migrateChat",{chat_id:e}).then(t=>{this.onChatUpdated(e,t);return t.updates.find(e=>"updateChannel"===e._).channel_id})}updateUsername(e,t){return i.a.invokeApi("channels.updateUsername",{channel:this.getChannelInput(e),username:t}).then(n=>{if(n){this.getChat(e).username=t}return n})}editPhoto(e,t){const n={_:"inputChatUploadedPhoto",file:t};let a;return a=this.isChannel(e)?i.a.invokeApi("channels.editPhoto",{channel:this.getChannelInput(e),photo:n}):i.a.invokeApi("messages.editChatPhoto",{chat_id:e,photo:n}),a.then(e=>{d.a.processUpdateMessage(e)})}editTitle(e,t){let n;return n=this.isChannel(e)?i.a.invokeApi("channels.editTitle",{channel:this.getChannelInput(e),title:t}):i.a.invokeApi("messages.editChatTitle",{chat_id:e,title:t}),n.then(e=>{d.a.processUpdateMessage(e)})}editAbout(e,t){return i.a.invokeApi("messages.editChatAbout",{peer:h.a.getInputPeerById(-e),about:t}).then(t=>{r.default.dispatchEvent("peer_bio_edit",-e)})}getParticipantPeerId(e){return e.peer?h.a.getPeerId(e.peer):e.user_id}editBanned(e,t,n){const a="number"==typeof t?t:this.getParticipantPeerId(t);return i.a.invokeApi("channels.editBanned",{channel:this.getChannelInput(e),participant:h.a.getInputPeerById(a),banned_rights:n}).then(s=>{if(this.onChatUpdated(e,s),"number"!=typeof t){const s=Date.now()/1e3|0;d.a.processLocalUpdate({_:"updateChannelParticipant",channel_id:e,date:s,actor_id:void 0,qts:void 0,user_id:a,prev_participant:t,new_participant:Object.keys(n.pFlags).length?{_:"channelParticipantBanned",date:s,banned_rights:n,kicked_by:p.a.getSelf().id,peer:h.a.getOutputPeer(a),pFlags:{}}:void 0})}})}clearChannelParticipantBannedRights(e,t){return this.editBanned(e,t,{_:"chatBannedRights",until_date:0,pFlags:{}})}kickFromChannel(e,t){return this.editBanned(e,t,{_:"chatBannedRights",until_date:0,pFlags:{view_messages:!0}})}};a.a.appChatsManager=X,t.a=X},40:function(e,t,n){"use strict";var a=n(26),s=n(30),i=n(29),o=n(13),r=n(39),d=n(34),h=n(12);const c=["#fc5c51","#0fb297","#d09306","#3d72ed","#895dd5","#cd4073","#00c1a6","#fa790f"],p=["red","green","yellow","blue","violet","pink","cyan","orange"],X=[0,7,4,1,6,3,5];const u=new class{constructor(){o.default.addMultipleEventsListeners({updatePeerBlocked:e=>{o.default.dispatchEvent("peer_block",{peerId:this.getPeerId(e.peer_id),blocked:e.blocked})}})}canPinMessage(e){return e>0||r.a.hasRights(-e,"pin_messages")}getPeerPhoto(e){const t=e>0?d.a.getUserPhoto(e):r.a.getChatPhoto(-e);return"chatPhotoEmpty"!==t._&&"userProfilePhotoEmpty"!==t._?t:null}getPeerMigratedTo(e){if(e>=0)return!1;let t=r.a.getChat(-e);return!!(t&&t.migrated_to&&t.pFlags.deactivated)&&this.getPeerId(t.migrated_to)}getPeerTitle(e,t=!1,n=!1){e||(e=o.default.myId);let a={};a=Object(s.f)(e)?e:this.getPeer(e);let r="";return e>0?(a.first_name&&(r+=a.first_name),a.last_name&&(r+=" "+a.last_name),r=r?r.trim():a.pFlags.deleted?h.default.format("HiddenName",!0):a.username):r=a.title,n&&(r=r.split(" ")[0]),t?r:i.a.wrapEmojiText(r)}getOutputPeer(e){if(e>0)return{_:"peerUser",user_id:e};let t=-e;return r.a.isChannel(t)?{_:"peerChannel",channel_id:t}:{_:"peerChat",chat_id:t}}getPeerString(e){return e>0?d.a.getUserString(e):r.a.getChatString(-e)}getPeerUsername(e){return e>0?d.a.getUser(e).username||"":r.a.getChat(-e).username||""}getPeer(e){return e>0?d.a.getUser(e):r.a.getChat(-e)}getPeerId(e){if("number"==typeof e)return e;if(Object(s.f)(e))return e.user_id||-(e.channel_id||e.chat_id);if(!e)return 0;const t="u"===e.charAt(0),n=e.substr(1).split("_");return t?+n[0]:-n[0]||0}getDialogPeer(e){return{_:"dialogPeer",peer:this.getOutputPeer(e)}}isChannel(e){return e<0&&r.a.isChannel(-e)}isMegagroup(e){return e<0&&r.a.isMegagroup(-e)}isAnyGroup(e){return e<0&&!r.a.isBroadcast(-e)}isBroadcast(e){return this.isChannel(e)&&!this.isMegagroup(e)}isBot(e){return e>0&&d.a.isBot(e)}getInputNotifyPeerById(e,t){return t?e>0?{_:"inputNotifyUsers"}:u.isBroadcast(e)?{_:"inputNotifyBroadcasts"}:{_:"inputNotifyChats"}:{_:"inputNotifyPeer",peer:this.getInputPeerById(e)}}getInputPeerById(e){if(!e)return{_:"inputPeerEmpty"};if(e<0){const t=-e;return r.a.isChannel(t)?r.a.getChannelInputPeer(t):r.a.getChatInputPeer(t)}return{_:"inputPeerUser",user_id:e,access_hash:d.a.getUser(e).access_hash}}getInputDialogPeerById(e){return{_:"inputDialogPeer",peer:this.getInputPeerById(e)}}getPeerColorById(e,t=!0){if(!e)return"";return(t?p:c)[X[(e<0?-e:e)%7]]}getPeerSearchText(e){let t;if(e>0)t="%pu "+d.a.getUserSearchText(e);else if(e<0){t="%pg "+(r.a.getChat(-e).title||"")}return t}getDialogType(e){return u.isMegagroup(e)?"megagroup":u.isChannel(e)?"channel":e<0?"group":e===o.default.myId?"saved":"chat"}getDeleteButtonText(e){switch(this.getDialogType(e)){case"channel":return"ChatList.Context.LeaveChannel";case"megagroup":return"ChatList.Context.LeaveGroup";case"group":return"ChatList.Context.DeleteAndExit";default:return"ChatList.Context.DeleteChat"}}};a.a.appPeersManager=u,t.a=u},44:function(e,t,n){"use strict";var a=n(26),s=n(0),i=n(37),o=n(32),r=n(4),d=n(2);const h=new class{constructor(){this.navigations=[],this.id=Date.now(),this.manual=!1,this.log=Object(i.b)("NC"),this.debug=!0,this.currentHash=window.location.hash;let e=!1;if(window.addEventListener("popstate",t=>{if(this.debug&&this.log("popstate",t,e),window.location.hash!==this.currentHash)return this.onHashChange&&this.onHashChange(),void this.replaceState();this.currentHash=window.location.hash;if(t.state!==this.id)return void this.pushState();const n=this.navigations.pop();n?(this.manual=!e,this.handleItem(n)):this.pushState()}),window.addEventListener("keydown",e=>{const t=this.navigations[this.navigations.length-1];t&&("Escape"!==e.key||t.onEscape&&!t.onEscape()||(Object(d.a)(e),this.back(t.type)))},{capture:!0,passive:!1}),s.isMobileSafari){const t={passive:!0};window.addEventListener("touchstart",n=>{if(n.touches.length>1)return;this.debug&&this.log("touchstart");const a=()=>{window.removeEventListener("touchend",r),window.removeEventListener("touchmove",i)};let s=!1;const i=e=>{this.debug&&this.log("touchmove"),e.touches.length>1?a():s=!0},r=t=>{this.debug&&this.log("touchend"),t.touches.length>1||!s||(e=!0,Object(o.b)().then(()=>{e=!1})),a()};window.addEventListener("touchend",r,t),window.addEventListener("touchmove",i,t)},t)}history.scrollRestoration="manual",this.pushState()}handleItem(e){const t=e.onPop(!!this.manual&&void 0);this.debug&&this.log("popstate, navigation:",e,this.navigations),!1===t?this.pushItem(e):e.noBlurOnPop||Object(r.a)(),this.manual=!1}findItemByType(e){for(let t=this.navigations.length-1;t>=0;--t){const n=this.navigations[t];if(n.type===e)return{item:n,index:t}}}back(e){if(e){const t=this.findItemByType(e);if(t)return this.manual=!0,this.navigations.splice(t.index,1),void this.handleItem(t.item)}history.back()}pushItem(e){this.navigations.push(e),this.debug&&this.log("pushstate",e,this.navigations),e.noHistory||this.pushState()}pushState(){this.manual=!1,history.pushState(this.id,"")}replaceState(){history.replaceState(this.id,"",location.origin+location.pathname)}removeItem(e){this.navigations.findAndSplice(t=>t===e)}removeByType(e,t=!1){for(let n=this.navigations.length-1;n>=0;--n){if(this.navigations[n].type===e&&(this.navigations.splice(n,1),t))break}}};a.a.appNavigationController=h,t.a=h},46:function(e,t,n){"use strict";function a(e,t){return t?e.forEach(e=>e.setAttribute("disabled","true")):e.forEach(e=>e.removeAttribute("disabled")),()=>a(e,!t)}n.d(t,"a",(function(){return a}))},55:function(e,t,n){"use strict";var a=n(26),s=n(59),i=n(27);const o=new class{constructor(){this.serverTimeOffset=0,s.a.get("server_time_offset").then(e=>{e&&(this.serverTimeOffset=e)}),i.a.addTaskListener("applyServerTimeOffset",e=>{this.serverTimeOffset=e.payload})}};a.a&&(a.a.serverTimeManager=o),t.a=o},58:function(e,t,n){"use strict";var a=n(26),s=n(37),i=n(27),o=n(13),r=n(34),d=n(39),h=n(40),c=n(15),p=n(55);const X=new class{constructor(){this.updatesState={pendingPtsUpdates:[],pendingSeqUpdates:{},syncPending:null,syncLoading:null},this.channelStates={},this.attached=!1,this.log=Object(s.b)("UPDATES",s.a.Error|s.a.Warn|s.a.Log),this.debug=a.b,this.processUpdateMessage=(e,t={})=>{const n={date:e.date,seq:e.seq,seqStart:e.seq_start};switch(this.debug&&this.log.debug("processUpdateMessage",e),e._){case"updatesTooLong":case"new_session_created":this.forceGetDifference();break;case"updateShort":this.processUpdate(e.update,n);break;case"updateShortMessage":case"updateShortChatMessage":{this.debug&&this.log.debug("updateShortMessage | updateShortChatMessage",Object.assign({},e));const t=e.pFlags.out,a=e.from_id||(t?o.default.myId:e.user_id),s=e.chat_id?-e.chat_id:e.user_id||o.default.myId;this.processUpdate({_:"updateNewMessage",message:{_:"message",pFlags:e.pFlags,id:e.id,from_id:h.a.getOutputPeer(a),peer_id:h.a.getOutputPeer(s),date:e.date,message:e.message,fwd_from:e.fwd_from,reply_to:e.reply_to,entities:e.entities},pts:e.pts,pts_count:e.pts_count},n);break}case"updatesCombined":case"updates":r.a.saveApiUsers(e.users,t.override),d.a.saveApiChats(e.chats,t.override),e.updates.forEach(e=>{this.processUpdate(e,n)});break;default:this.log.warn("Unknown update message",e)}}}setProxy(){const e=this;this.updatesState=new Proxy(this.updatesState,{set:function(t,n,a){return t[n]=a,e.saveUpdatesState(),!0}})}saveUpdatesState(){const e=this.updatesState;c.default.pushToState("updates",{seq:e.seq,pts:e.pts,date:e.date})}popPendingSeqUpdate(){const e=this.updatesState,t=e.seq+1,n=e.pendingSeqUpdates[t];if(!n)return!1;const a=n.updates;for(let e=0,t=a.length;e<t;++e)this.saveUpdate(a[e]);return e.seq=n.seq,n.date&&e.date<n.date&&(e.date=n.date),delete e.pendingSeqUpdates[t],!this.popPendingSeqUpdate()&&e.syncPending&&e.syncPending.seqAwaiting&&e.seq>=e.syncPending.seqAwaiting&&(e.syncPending.ptsAwaiting?delete e.syncPending.seqAwaiting:(clearTimeout(e.syncPending.timeout),e.syncPending=null)),!0}popPendingPtsUpdate(e){const t=e?this.getChannelState(e):this.updatesState;if(!t.pendingPtsUpdates.length)return!1;t.pendingPtsUpdates.sort((e,t)=>e.pts-t.pts);let n=t.pts,a=0,s=0;for(let e=0,i=t.pendingPtsUpdates.length;e<i;++e){const i=t.pendingPtsUpdates[e];n+=i.pts_count,n>=i.pts&&(a=i.pts,s=e)}if(!a)return!1;this.debug&&this.log.debug("pop pending pts updates",a,t.pendingPtsUpdates.slice(0,s+1)),t.pts=a;for(let e=0;e<=s;++e){const n=t.pendingPtsUpdates[e];this.saveUpdate(n)}return t.pendingPtsUpdates.splice(0,s+1),!t.pendingPtsUpdates.length&&t.syncPending&&(t.syncPending.seqAwaiting?delete t.syncPending.ptsAwaiting:(clearTimeout(t.syncPending.timeout),t.syncPending=null)),!0}forceGetDifference(){this.updatesState.syncLoading||this.getDifference()}processLocalUpdate(e){this.processUpdateMessage({_:"updateShort",update:e})}getDifference(e=!1){const t=this.updatesState;let n=t.syncLoading;n||(t.pendingSeqUpdates={},t.pendingPtsUpdates=[]),t.syncPending&&(clearTimeout(t.syncPending.timeout),t.syncPending=null);const a=i.a.invokeApi("updates.getDifference",{pts:t.pts,pts_total_limit:e?1200:void 0,date:t.date,qts:-1},{timeout:2147483647}).then(n=>{if(this.debug&&this.log.debug("Get diff result",n),"updates.differenceEmpty"===n._)return this.debug&&this.log.debug("apply empty diff",n.seq),t.date=n.date,void(t.seq=n.seq);if(e&&o.default.dispatchEvent("state_synchronizing"),"updates.differenceTooLong"!==n._){r.a.saveApiUsers(n.users),d.a.saveApiChats(n.chats),n.other_updates.forEach(e=>{switch(e._){case"updateChannelTooLong":case"updateNewChannelMessage":case"updateEditChannelMessage":return void this.processUpdate(e)}this.saveUpdate(e)}),n.new_messages.forEach(e=>{this.saveUpdate({_:"updateNewMessage",message:e,pts:t.pts,pts_count:0})});const e="updates.difference"===n._?n.state:n.intermediate_state;t.seq=e.seq,t.pts=e.pts,t.date=e.date}else t.pts=n.pts,t.date=(Date.now()/1e3|0)+p.a.serverTimeOffset,delete t.seq,this.channelStates={},this.log.warn("getDifference:",n._),o.default.dispatchEvent("state_cleared");if("updates.differenceSlice"===n._)return this.getDifference();this.debug&&this.log.debug("finished get diff")});return n||this.justAName(t,a),a}getChannelDifference(e){const t=this.getChannelState(e),n=t.syncLoading;n||(t.pendingPtsUpdates=[]),t.syncPending&&(clearTimeout(t.syncPending.timeout),t.syncPending=null);const a=i.a.invokeApi("updates.getChannelDifference",{channel:d.a.getChannelInput(e),filter:{_:"channelMessagesFilterEmpty"},pts:t.pts,limit:30},{timeout:2147483647}).then(n=>{if(this.debug&&this.log.debug("Get channel diff result",n),t.pts="pts"in n?n.pts:void 0,"updates.channelDifferenceEmpty"!==n._){if("updates.channelDifferenceTooLong"===n._)return this.debug&&this.log.debug("channel diff too long",n),delete this.channelStates[e],void this.saveUpdate({_:"updateChannelReload",channel_id:e});if(r.a.saveApiUsers(n.users),d.a.saveApiChats(n.chats),this.debug&&this.log.debug("applying",n.other_updates.length,"channel other updates"),n.other_updates.forEach(e=>{this.saveUpdate(e)}),this.debug&&this.log.debug("applying",n.new_messages.length,"channel new messages"),n.new_messages.forEach(e=>{this.saveUpdate({_:"updateNewChannelMessage",message:e,pts:t.pts,pts_count:0})}),this.debug&&this.log.debug("apply channel diff",t.pts),"updates.channelDifference"===n._&&!n.pFlags.final)return this.getChannelDifference(e);this.debug&&this.log.debug("finished channel get diff")}else this.debug&&this.log.debug("apply channel empty diff",n)});return n||this.justAName(t,a,e),a}justAName(e,t,n){e.syncLoading=t,o.default.dispatchEvent("state_synchronizing",n),t.then(()=>{e.syncLoading=null,o.default.dispatchEvent("state_synchronized",n)},()=>{e.syncLoading=null})}addChannelState(e,t){if(!t)throw new Error("Add channel state without pts "+e);return!(e in this.channelStates)&&(this.channelStates[e]={pts:t,pendingPtsUpdates:[],syncPending:null,syncLoading:null},!0)}getChannelState(e,t){return void 0===this.channelStates[e]&&this.addChannelState(e,t),this.channelStates[e]}processUpdate(e,t={}){let n=0;switch(e._){case"updateNewChannelMessage":case"updateEditChannelMessage":n=-h.a.getPeerId(e.message.peer_id);break;case"updateDeleteChannelMessages":n=e.channel_id;break;case"updateChannelTooLong":if(n=e.channel_id,!(n in this.channelStates))return!1}const a=n?this.getChannelState(n,e.pts):this.updatesState;if(a.syncLoading)return!1;if("updateChannelTooLong"===e._)return(!a.lastPtsUpdateTime||a.lastPtsUpdateTime<Date.now()-6)&&this.getChannelDifference(n),!1;if("updateNewMessage"===e._||"updateEditMessage"===e._||"updateNewChannelMessage"===e._||"updateEditChannelMessage"===e._){const t=e.message,a=h.a.getPeerId(t.peer_id),s=t.fwd_from||{};let i=!1;if(t.from_id&&!r.a.hasUser(h.a.getPeerId(t.from_id),t.pFlags.post)&&(i="author")||s.from_id&&!r.a.hasUser(h.a.getPeerId(s.from_id),!!s.channel_id)&&(i="fwdAuthor")||s.channel_id&&!d.a.hasChat(s.channel_id,!0)&&(i="fwdChannel")||a>0&&!r.a.hasUser(a)&&(i="toPeer User")||a<0&&!d.a.hasChat(-a)&&(i="toPeer Chat"))return this.log.warn("Not enough data for message update",a,i,t),n&&d.a.hasChat(n)?this.getChannelDifference(n):this.forceGetDifference(),!1}else if(n&&!d.a.hasChat(n))return!1;let s,i;if(e.pts){if(a.pts+(e.pts_count||0)<e.pts)return this.debug&&this.log.warn("Pts hole",a,e,n&&d.a.getChat(n)),a.pendingPtsUpdates.push(e),a.syncPending||a.syncLoading||(a.syncPending={timeout:window.setTimeout(()=>{a.syncPending=null,a.syncLoading||(n?this.getChannelDifference(n):this.getDifference())},6)}),a.syncPending.ptsAwaiting=!0,!1;if(e.pts>a.pts)a.pts=e.pts,s=!0,a.lastPtsUpdateTime=Date.now();else if(e.pts_count)return!1;n&&t.date&&this.updatesState.date<t.date&&(this.updatesState.date=t.date)}else if(!n&&t.seq>0){const n=t.seq,s=t.seqStart||n;if(s!==a.seq+1&&s>a.seq)return this.debug&&this.log.warn("Seq hole",a,a.syncPending&&a.syncPending.seqAwaiting),void 0===a.pendingSeqUpdates[s]&&(a.pendingSeqUpdates[s]={seq:n,date:t.date,updates:[]}),a.pendingSeqUpdates[s].updates.push(e),a.syncPending||(a.syncPending={timeout:window.setTimeout(()=>{a.syncPending=null,a.syncLoading||this.getDifference()},6)}),(!a.syncPending.seqAwaiting||a.syncPending.seqAwaiting<s)&&(a.syncPending.seqAwaiting=s),!1;a.seq!==n&&(a.seq=n,t.date&&a.date<t.date&&(a.date=t.date),i=!0)}this.saveUpdate(e),s?this.popPendingPtsUpdate(n):i&&this.popPendingSeqUpdate()}saveUpdate(e){o.default.dispatchEvent(e._,e)}attach(){this.attached||(this.log("attach"),this.attached=!0,c.default.getState().then(e=>{const t=e.updates;t&&t.pts&&t.date&&t.seq?(Object.assign(this.updatesState,t),this.log("will get difference",Object.assign({},t)),this.getDifference(!0)):(this.log("will get new state"),this.updatesState.syncLoading=new Promise(e=>{i.a.invokeApi("updates.getState",{},{noErrorBox:!0}).then(t=>{this.updatesState.seq=t.seq,this.updatesState.pts=t.pts,this.updatesState.date=t.date,this.saveUpdatesState(),this.updatesState.syncLoading=null,e()})})),i.a.setUpdatesProcessor(this.processUpdateMessage),this.setProxy()}))}};a.a.apiUpdatesManager=X,t.a=X},63:function(e,t,n){"use strict";var a=n(32),s=n(42),i=n(26),o=n(68);const r=new class{constructor(){this.promises={},this.raf=a.c.bind(null),this.scheduled=!1}do(e,t){let n=this.promises[e];return n||(this.scheduleFlush(),n=this.promises[e]=Object(s.a)()),void 0!==t&&n.then(()=>t()),n}measure(e){return this.do("read",e)}mutate(e){return this.do("write",e)}mutateElement(e,t){const n=Object(o.a)(e)?this.mutate():Promise.resolve();return void 0!==t&&n.then(()=>t()),n}scheduleFlush(){this.scheduled||(this.scheduled=!0,this.raf(()=>{this.promises.read&&this.promises.read.resolve(),this.promises.write&&this.promises.write.resolve(),this.scheduled=!1,this.promises={}}))}};i.a&&(i.a.sequentialDom=r),t.a=r},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(26);const s=[{phoneCode:"7 840",code:"AB",name:"Abkhazia",pattern:"",emoji:""},{phoneCode:"93",code:"AF",name:"Afghanistan",pattern:"93 XXX XXX XXX",emoji:"🇦🇫"},{phoneCode:"358 18",code:"AX",name:"Aland Islands",pattern:"",emoji:"🇦🇽"},{phoneCode:"355",code:"AL",name:"Albania",pattern:"355 XX XXX XXXX",emoji:"🇦🇱"},{phoneCode:"213",code:"DZ",name:"Algeria",pattern:"213 XXX XX XX XX",emoji:"🇩🇿"},{phoneCode:"1 684",code:"AS",name:"American Samoa",pattern:"1684 XXX XXXX",emoji:"🇦🇸"},{phoneCode:"376",code:"AD",name:"Andorra",pattern:"376 XX XX XX",emoji:"🇦🇩"},{phoneCode:"244",code:"AO",name:"Angola",pattern:"244 XXX XXX XXX",emoji:"🇦🇴"},{phoneCode:"1 264",code:"AI",name:"Anguilla",pattern:"1264 XXX XXXX",emoji:"🇦🇮"},{phoneCode:"1 268",code:"AG",name:"Antigua & Barbuda",pattern:"1268 XXX XXXX",emoji:"🇦🇬"},{phoneCode:"54",code:"AR",name:"Argentina",pattern:"",emoji:"🇦🇷"},{phoneCode:"374",code:"AM",name:"Armenia",pattern:"374 XX XXX XXX",emoji:"🇦🇲"},{phoneCode:"297",code:"AW",name:"Aruba",pattern:"297 XXX XXXX",emoji:"🇦🇼"},{phoneCode:"247",code:"SH",name:"Ascension",pattern:"290 XX XXX",emoji:"🇸🇭"},{phoneCode:"61",code:"AU",name:"Australia",pattern:"61 XXX XXX XXX",emoji:"🇦🇺"},{phoneCode:"672",code:"AU",name:"Australian External Territories",pattern:"61 XXX XXX XXX",emoji:"🇦🇺"},{phoneCode:"43",code:"AT",name:"Austria",pattern:"",emoji:"🇦🇹"},{phoneCode:"994",code:"AZ",name:"Azerbaijan",pattern:"994 XX XXX XX XX",emoji:"🇦🇿"},{phoneCode:"1 242",code:"BS",name:"Bahamas",pattern:"1242 XXX XXXX",emoji:"🇧🇸"},{phoneCode:"973",code:"BH",name:"Bahrain",pattern:"973 XXXX XXXX",emoji:"🇧🇭"},{phoneCode:"880",code:"BD",name:"Bangladesh",pattern:"",emoji:"🇧🇩"},{phoneCode:"1 246",code:"BB",name:"Barbados",pattern:"1246 XXX XXXX",emoji:"🇧🇧"},{phoneCode:"1 268",code:"AG",name:"Barbuda",pattern:"1268 XXX XXXX",emoji:"🇦🇬"},{phoneCode:"375",code:"BY",name:"Belarus",pattern:"375 XX XXX XXXX",emoji:"🇧🇾"},{phoneCode:"32",code:"BE",name:"Belgium",pattern:"32 XXX XX XX XX",emoji:"🇧🇪"},{phoneCode:"501",code:"BZ",name:"Belize",pattern:"",emoji:"🇧🇿"},{phoneCode:"229",code:"BJ",name:"Benin",pattern:"229 XX XXX XXX",emoji:"🇧🇯"},{phoneCode:"1 441",code:"BM",name:"Bermuda",pattern:"1441 XXX XXXX",emoji:"🇧🇲"},{phoneCode:"975",code:"BT",name:"Bhutan",pattern:"",emoji:"🇧🇹"},{phoneCode:"591",code:"BO",name:"Bolivia",pattern:"591 X XXX XXXX",emoji:"🇧🇴"},{phoneCode:"599 7",code:"BQ",name:"Caribbean Netherlands",pattern:"",emoji:"🇧🇶"},{phoneCode:"387",code:"BA",name:"Bosnia & Herzegovina",pattern:"",emoji:"🇧🇦"},{phoneCode:"267",code:"BW",name:"Botswana",pattern:"267 XX XXX XXX",emoji:"🇧🇼"},{phoneCode:"55",code:"BR",name:"Brazil",pattern:"55 XX XXXXX XXXX",emoji:"🇧🇷"},{phoneCode:"246",code:"IO",name:"British Indian Ocean Territory",pattern:"246 XXX XXXX",emoji:"🇮🇴"},{phoneCode:"1 284",code:"VG",name:"British Virgin Islands",pattern:"1284 XXX XXXX",emoji:"🇻🇬"},{phoneCode:"673",code:"BN",name:"Brunei",pattern:"673 XXX XXXX",emoji:"🇧🇳"},{phoneCode:"359",code:"BG",name:"Bulgaria",pattern:"",emoji:"🇧🇬"},{phoneCode:"226",code:"BF",name:"Burkina Faso",pattern:"226 XX XX XX XX",emoji:"🇧🇫"},{phoneCode:"95",code:"MM",name:"Myanmar (Burma)",pattern:"",emoji:"🇲🇲"},{phoneCode:"257",code:"BI",name:"Burundi",pattern:"257 XX XX XXXX",emoji:"🇧🇮"},{phoneCode:"855",code:"KH",name:"Cambodia",pattern:"",emoji:"🇰🇭"},{phoneCode:"237",code:"CM",name:"Cameroon",pattern:"237 XXXX XXXX",emoji:"🇨🇲"},{phoneCode:"1",code:"CA",name:"Canada",pattern:"1 XXX XXX XXXX",emoji:"🇨🇦"},{phoneCode:"238",code:"CV",name:"Cape Verde",pattern:"238 XXX XXXX",emoji:"🇨🇻"},{phoneCode:"1 345",code:"KY",name:"Cayman Islands",pattern:"1345 XXX XXXX",emoji:"🇰🇾"},{phoneCode:"236",code:"CF",name:"Central African Republic",pattern:"236 XX XX XX XX",emoji:"🇨🇫"},{phoneCode:"235",code:"TD",name:"Chad",pattern:"235 XX XX XX XX",emoji:"🇹🇩"},{phoneCode:"56",code:"CL",name:"Chile",pattern:"56 X XXXX XXXX",emoji:"🇨🇱"},{phoneCode:"86",code:"CN",name:"China",pattern:"86 XXX XXXX XXXX",emoji:"🇨🇳"},{phoneCode:"61",code:"CX",name:"Christmas Island",pattern:"",emoji:"🇨🇽"},{phoneCode:"61",code:"CC",name:"Cocos (Keeling) Islands",pattern:"",emoji:"🇨🇨"},{phoneCode:"57",code:"CO",name:"Colombia",pattern:"57 XXX XXX XXXX",emoji:"🇨🇴"},{phoneCode:"269",code:"KM",name:"Comoros",pattern:"269 XXX XXXX",emoji:"🇰🇲"},{phoneCode:"242",code:"CG",name:"Congo - Brazzaville",pattern:"242 XX XXX XXXX",emoji:"🇨🇬"},{phoneCode:"243",code:"CD",name:"Congo - Kinshasa",pattern:"243 XX XXX XXXX",emoji:"🇨🇩"},{phoneCode:"682",code:"CK",name:"Cook Islands",pattern:"",emoji:"🇨🇰"},{phoneCode:"506",code:"CR",name:"Costa Rica",pattern:"",emoji:"🇨🇷"},{phoneCode:"225",code:"CI",name:"Cote d’Ivoire",pattern:"225 XX XXX XXX",emoji:"🇨🇮"},{phoneCode:"385",code:"HR",name:"Croatia",pattern:"",emoji:"🇭🇷"},{phoneCode:"53",code:"CU",name:"Cuba",pattern:"53 XXXX XXXX",emoji:"🇨🇺"},{phoneCode:"599 9",code:"CW",name:"Curacao",pattern:"",emoji:"🇨🇼"},{phoneCode:"357",code:"CY",name:"Cyprus",pattern:"357 XXXX XXXX",emoji:"🇨🇾"},{phoneCode:"420",code:"CZ",name:"Czech Republic",pattern:"",emoji:"🇨🇿"},{phoneCode:"45",code:"DK",name:"Denmark",pattern:"45 XXXX XXXX",emoji:"🇩🇰"},{phoneCode:"246",code:"DG",name:"Diego Garcia",pattern:"",emoji:"🇩🇬"},{phoneCode:"253",code:"DJ",name:"Djibouti",pattern:"253 XX XX XX XX",emoji:"🇩🇯"},{phoneCode:"1 767",code:"DM",name:"Dominica",pattern:"1767 XXX XXXX",emoji:"🇩🇲"},{phoneCode:"1 809 and 1 829",code:"DO",name:"Dominican Republic",pattern:"1 XXX XXX XXXX",emoji:"🇩🇴"},{phoneCode:"670",code:"TL",name:"Timor-Leste",pattern:"",emoji:"🇹🇱"},{phoneCode:"593",code:"EC",name:"Ecuador",pattern:"",emoji:"🇪🇨"},{phoneCode:"20",code:"EG",name:"Egypt",pattern:"20 XX XXX XXXX",emoji:"🇪🇬"},{phoneCode:"503",code:"SV",name:"El Salvador",pattern:"503 XXXX XXXX",emoji:"🇸🇻"},{phoneCode:"240",code:"GQ",name:"Equatorial Guinea",pattern:"240 XXX XXX XXX",emoji:"🇬🇶"},{phoneCode:"291",code:"ER",name:"Eritrea",pattern:"291 X XXX XXX",emoji:"🇪🇷"},{phoneCode:"372",code:"EE",name:"Estonia",pattern:"",emoji:"🇪🇪"},{phoneCode:"251",code:"ET",name:"Ethiopia",pattern:"251 XX XXX XXXX",emoji:"🇪🇹"},{phoneCode:"500",code:"FK",name:"Falkland Islands",pattern:"",emoji:"🇫🇰"},{phoneCode:"298",code:"FO",name:"Faroe Islands",pattern:"298 XXX XXX",emoji:"🇫🇴"},{phoneCode:"679",code:"FJ",name:"Fiji",pattern:"",emoji:"🇫🇯"},{phoneCode:"358",code:"FI",name:"Finland",pattern:"",emoji:"🇫🇮"},{phoneCode:"33",code:"FR",name:"France",pattern:"33 X XX XX XX XX",emoji:"🇫🇷"},{phoneCode:"594",code:"GF",name:"French Guiana",pattern:"",emoji:"🇬🇫"},{phoneCode:"689",code:"PF",name:"French Polynesia",pattern:"",emoji:"🇵🇫"},{phoneCode:"241",code:"GA",name:"Gabon",pattern:"241 X XX XX XX",emoji:"🇬🇦"},{phoneCode:"220",code:"GM",name:"Gambia",pattern:"220 XXX XXXX",emoji:"🇬🇲"},{phoneCode:"995",code:"GE",name:"Georgia",pattern:"",emoji:"🇬🇪"},{phoneCode:"49",code:"DE",name:"Germany",pattern:"49 XXX XXXXXXXX",emoji:"🇩🇪"},{phoneCode:"233",code:"GH",name:"Ghana",pattern:"",emoji:"🇬🇭"},{phoneCode:"350",code:"GI",name:"Gibraltar",pattern:"350 XXXX XXXX",emoji:"🇬🇮"},{phoneCode:"30",code:"GR",name:"Greece",pattern:"30 XX XXXX XXXX",emoji:"🇬🇷"},{phoneCode:"299",code:"GL",name:"Greenland",pattern:"299 XXX XXX",emoji:"🇬🇱"},{phoneCode:"1 473",code:"GD",name:"Grenada",pattern:"1473 XXX XXXX",emoji:"🇬🇩"},{phoneCode:"590",code:"GP",name:"Guadeloupe",pattern:"",emoji:"🇬🇵"},{phoneCode:"1 671",code:"GU",name:"Guam",pattern:"1671 XXX XXXX",emoji:"🇬🇺"},{phoneCode:"502",code:"GT",name:"Guatemala",pattern:"502 X XXX XXXX",emoji:"🇬🇹"},{phoneCode:"44",code:"GG",name:"Guernsey",pattern:"",emoji:"🇬🇬"},{phoneCode:"224",code:"GN",name:"Guinea",pattern:"224 XXX XXX XXX",emoji:"🇬🇳"},{phoneCode:"245",code:"GW",name:"Guinea-Bissau",pattern:"245 XXX XXXX",emoji:"🇬🇼"},{phoneCode:"592",code:"GY",name:"Guyana",pattern:"",emoji:"🇬🇾"},{phoneCode:"509",code:"HT",name:"Haiti",pattern:"",emoji:"🇭🇹"},{phoneCode:"504",code:"HN",name:"Honduras",pattern:"504 XXXX XXXX",emoji:"🇭🇳"},{phoneCode:"852",code:"HK",name:"Hong Kong SAR China",pattern:"",emoji:"🇭🇰"},{phoneCode:"36",code:"HU",name:"Hungary",pattern:"36 XX XXX XXXX",emoji:"🇭🇺"},{phoneCode:"354",code:"IS",name:"Iceland",pattern:"354 XXX XXXX",emoji:"🇮🇸"},{phoneCode:"91",code:"IN",name:"India",pattern:"91 XXXXX XXXXX",emoji:"🇮🇳"},{phoneCode:"62",code:"ID",name:"Indonesia",pattern:"",emoji:"🇮🇩"},{phoneCode:"98",code:"IR",name:"Iran",pattern:"98 XXX XXX XXXX",emoji:"🇮🇷"},{phoneCode:"964",code:"IQ",name:"Iraq",pattern:"964 XXX XXX XXXX",emoji:"🇮🇶"},{phoneCode:"353",code:"IE",name:"Ireland",pattern:"353 XX XXX XXXX",emoji:"🇮🇪"},{phoneCode:"972",code:"IL",name:"Israel",pattern:"972 XX XXX XXXX",emoji:"🇮🇱"},{phoneCode:"39",code:"IT",name:"Italy",pattern:"39 XXX XXX XXXX",emoji:"🇮🇹"},{phoneCode:"1 876",code:"JM",name:"Jamaica",pattern:"1876 XXX XXXX",emoji:"🇯🇲"},{phoneCode:"47 79",code:"SJ",name:"Svalbard & Jan Mayen",pattern:"",emoji:"🇸🇯"},{phoneCode:"81",code:"JP",name:"Japan",pattern:"81 XX XXXX XXXX",emoji:"🇯🇵"},{phoneCode:"44",code:"JE",name:"Jersey",pattern:"",emoji:"🇯🇪"},{phoneCode:"962",code:"JO",name:"Jordan",pattern:"962 X XXXX XXXX",emoji:"🇯🇴"},{phoneCode:"383",code:"XK",name:"Kosovo",pattern:"383 XXXX XXXX",emoji:"🇽🇰"},{phoneCode:"7 7",code:"KZ",name:"Kazakhstan",pattern:"7 XXX XXX XX XX",emoji:"🇰🇿"},{phoneCode:"254",code:"KE",name:"Kenya",pattern:"254 XXX XXX XXX",emoji:"🇰🇪"},{phoneCode:"686",code:"KI",name:"Kiribati",pattern:"",emoji:"🇰🇮"},{phoneCode:"850",code:"KP",name:"North Korea",pattern:"",emoji:"🇰🇵"},{phoneCode:"82",code:"KR",name:"South Korea",pattern:"",emoji:"🇰🇷"},{phoneCode:"965",code:"KW",name:"Kuwait",pattern:"965 XXXX XXXX",emoji:"🇰🇼"},{phoneCode:"996",code:"KG",name:"Kyrgyzstan",pattern:"",emoji:"🇰🇬"},{phoneCode:"856",code:"LA",name:"Laos",pattern:"",emoji:"🇱🇦"},{phoneCode:"371",code:"LV",name:"Latvia",pattern:"371 XXX XXXXX",emoji:"🇱🇻"},{phoneCode:"961",code:"LB",name:"Lebanon",pattern:"",emoji:"🇱🇧"},{phoneCode:"266",code:"LS",name:"Lesotho",pattern:"266 XX XXX XXX",emoji:"🇱🇸"},{phoneCode:"231",code:"LR",name:"Liberia",pattern:"",emoji:"🇱🇷"},{phoneCode:"218",code:"LY",name:"Libya",pattern:"218 XX XXX XXXX",emoji:"🇱🇾"},{phoneCode:"423",code:"LI",name:"Liechtenstein",pattern:"",emoji:"🇱🇮"},{phoneCode:"370",code:"LT",name:"Lithuania",pattern:"370 XXX XXXXX",emoji:"🇱🇹"},{phoneCode:"352",code:"LU",name:"Luxembourg",pattern:"",emoji:"🇱🇺"},{phoneCode:"853",code:"MO",name:"Macau SAR China",pattern:"",emoji:"🇲🇴"},{phoneCode:"389",code:"MK",name:"Macedonia",pattern:"",emoji:"🇲🇰"},{phoneCode:"261",code:"MG",name:"Madagascar",pattern:"261 XX XX XXX XX",emoji:"🇲🇬"},{phoneCode:"265",code:"MW",name:"Malawi",pattern:"",emoji:"🇲🇼"},{phoneCode:"60",code:"MY",name:"Malaysia",pattern:"",emoji:"🇲🇾"},{phoneCode:"960",code:"MV",name:"Maldives",pattern:"",emoji:"🇲🇻"},{phoneCode:"223",code:"ML",name:"Mali",pattern:"223 XXXX XXXX",emoji:"🇲🇱"},{phoneCode:"356",code:"MT",name:"Malta",pattern:"356 XX XX XX XX",emoji:"🇲🇹"},{phoneCode:"692",code:"MH",name:"Marshall Islands",pattern:"",emoji:"🇲🇭"},{phoneCode:"596",code:"MQ",name:"Martinique",pattern:"",emoji:"🇲🇶"},{phoneCode:"222",code:"MR",name:"Mauritania",pattern:"222 XXXX XXXX",emoji:"🇲🇷"},{phoneCode:"230",code:"MU",name:"Mauritius",pattern:"",emoji:"🇲🇺"},{phoneCode:"262",code:"YT",name:"Mayotte",pattern:"",emoji:"🇾🇹"},{phoneCode:"52",code:"MX",name:"Mexico",pattern:"",emoji:"🇲🇽"},{phoneCode:"691",code:"FM",name:"Micronesia",pattern:"",emoji:"🇫🇲"},{phoneCode:"373",code:"MD",name:"Moldova",pattern:"373 XX XXX XXX",emoji:"🇲🇩"},{phoneCode:"377",code:"MC",name:"Monaco",pattern:"377 XXXX XXXX",emoji:"🇲🇨"},{phoneCode:"976",code:"MN",name:"Mongolia",pattern:"",emoji:"🇲🇳"},{phoneCode:"382",code:"ME",name:"Montenegro",pattern:"",emoji:"🇲🇪"},{phoneCode:"1 664",code:"MS",name:"Montserrat",pattern:"1664 XXX XXXX",emoji:"🇲🇸"},{phoneCode:"212",code:"MA",name:"Morocco",pattern:"212 XX XXX XXXX",emoji:"🇲🇦"},{phoneCode:"258",code:"MZ",name:"Mozambique",pattern:"258 XX XXX XXXX",emoji:"🇲🇿"},{phoneCode:"264",code:"NA",name:"Namibia",pattern:"264 XX XXX XXXX",emoji:"🇳🇦"},{phoneCode:"674",code:"NR",name:"Nauru",pattern:"",emoji:"🇳🇷"},{phoneCode:"977",code:"NP",name:"Nepal",pattern:"",emoji:"🇳🇵"},{phoneCode:"31",code:"NL",name:"Netherlands",pattern:"31 X XX XX XX XX",emoji:"🇳🇱"},{phoneCode:"687",code:"NC",name:"New Caledonia",pattern:"",emoji:"🇳🇨"},{phoneCode:"64",code:"NZ",name:"New Zealand",pattern:"",emoji:"🇳🇿"},{phoneCode:"505",code:"NI",name:"Nicaragua",pattern:"505 XXXX XXXX",emoji:"🇳🇮"},{phoneCode:"227",code:"NE",name:"Niger",pattern:"227 XX XX XX XX",emoji:"🇳🇪"},{phoneCode:"234",code:"NG",name:"Nigeria",pattern:"",emoji:"🇳🇬"},{phoneCode:"683",code:"NU",name:"Niue",pattern:"",emoji:"🇳🇺"},{phoneCode:"672",code:"NF",name:"Norfolk Island",pattern:"",emoji:"🇳🇫"},{phoneCode:"1 670",code:"MP",name:"Northern Mariana Islands",pattern:"1670 XXX XXXX",emoji:"🇲🇵"},{phoneCode:"47",code:"NO",name:"Norway",pattern:"47 XXXX XXXX",emoji:"🇳🇴"},{phoneCode:"968",code:"OM",name:"Oman",pattern:"968 XXXX XXXX",emoji:"🇴🇲"},{phoneCode:"92",code:"PK",name:"Pakistan",pattern:"92 XXX XXX XXXX",emoji:"🇵🇰"},{phoneCode:"680",code:"PW",name:"Palau",pattern:"",emoji:"🇵🇼"},{phoneCode:"970",code:"PS",name:"Palestinian Territories",pattern:"970 XXX XX XXXX",emoji:"🇵🇸"},{phoneCode:"507",code:"PA",name:"Panama",pattern:"507 XXXX XXXX",emoji:"🇵🇦"},{phoneCode:"675",code:"PG",name:"Papua New Guinea",pattern:"",emoji:"🇵🇬"},{phoneCode:"595",code:"PY",name:"Paraguay",pattern:"595 XXX XXX XXX",emoji:"🇵🇾"},{phoneCode:"51",code:"PE",name:"Peru",pattern:"51 XXX XXX XXX",emoji:"🇵🇪"},{phoneCode:"63",code:"PH",name:"Philippines",pattern:"63 XXX XXX XXXX",emoji:"🇵🇭"},{phoneCode:"64",code:"PN",name:"Pitcairn Islands",pattern:"",emoji:"🇵🇳"},{phoneCode:"48",code:"PL",name:"Poland",pattern:"48 XXX XXX XXX",emoji:"🇵🇱"},{phoneCode:"351",code:"PT",name:"Portugal",pattern:"351 X XXXX XXXX",emoji:"🇵🇹"},{phoneCode:"1 787 and 1 939",code:"PR",name:"Puerto Rico",pattern:"1 XXX XXX XXXX",emoji:"🇵🇷"},{phoneCode:"974",code:"QA",name:"Qatar",pattern:"",emoji:"🇶🇦"},{phoneCode:"262",code:"RE",name:"Reunion",pattern:"262 XXX XXX XXX",emoji:"🇷🇪"},{phoneCode:"40",code:"RO",name:"Romania",pattern:"40 XXX XXX XXX",emoji:"🇷🇴"},{phoneCode:"7",code:"RU",name:"Russia",pattern:"7 XXX XXX XX XX",emoji:"🇷🇺"},{phoneCode:"250",code:"RW",name:"Rwanda",pattern:"250 XXX XXX XXX",emoji:"🇷🇼"},{phoneCode:"590",code:"BL",name:"St. Barthelemy",pattern:"",emoji:"🇧🇱"},{phoneCode:"290",code:"SH",name:"St. Helena",pattern:"290 XX XXX",emoji:"🇸🇭"},{phoneCode:"1 869",code:"KN",name:"St. Kitts & Nevis",pattern:"1869 XXX XXXX",emoji:"🇰🇳"},{phoneCode:"1 758",code:"LC",name:"St. Lucia",pattern:"1758 XXX XXXX",emoji:"🇱🇨"},{phoneCode:"590",code:"MF",name:"St. Martin (France)",pattern:"",emoji:"🇲🇫"},{phoneCode:"508",code:"PM",name:"St. Pierre and Miquelon",pattern:"",emoji:"🇵🇲"},{phoneCode:"1 784",code:"VC",name:"St. Vincent and the Grenadines",pattern:"1784 XXX XXXX",emoji:"🇻🇨"},{phoneCode:"685",code:"WS",name:"Samoa",pattern:"",emoji:"🇼🇸"},{phoneCode:"378",code:"SM",name:"San Marino",pattern:"378 XXX XXX XXXX",emoji:"🇸🇲"},{phoneCode:"239",code:"ST",name:"São Tome & Principe",pattern:"239 XX XXXXX",emoji:"🇸🇹"},{phoneCode:"966",code:"SA",name:"Saudi Arabia",pattern:"",emoji:"🇸🇦"},{phoneCode:"221",code:"SN",name:"Senegal",pattern:"221 XX XXX XXXX",emoji:"🇸🇳"},{phoneCode:"381",code:"RS",name:"Serbia",pattern:"381 XX XXX XXXX",emoji:"🇷🇸"},{phoneCode:"248",code:"SC",name:"Seychelles",pattern:"248 X XX XX XX",emoji:"🇸🇨"},{phoneCode:"232",code:"SL",name:"Sierra Leone",pattern:"232 XX XXX XXX",emoji:"🇸🇱"},{phoneCode:"65",code:"SG",name:"Singapore",pattern:"65 XXXX XXXX",emoji:"🇸🇬"},{phoneCode:"599 3",code:"BQ",name:"Sint Eustatius",pattern:"",emoji:"🇧🇶"},{phoneCode:"1 721",code:"SX",name:"Sint Maarten",pattern:"1721 XXX XXXX",emoji:"🇸🇽"},{phoneCode:"421",code:"SK",name:"Slovakia",pattern:"",emoji:"🇸🇰"},{phoneCode:"386",code:"SI",name:"Slovenia",pattern:"",emoji:"🇸🇮"},{phoneCode:"677",code:"SB",name:"Solomon Islands",pattern:"",emoji:"🇸🇧"},{phoneCode:"252",code:"SO",name:"Somalia",pattern:"252 XX XXX XXX",emoji:"🇸🇴"},{phoneCode:"27",code:"ZA",name:"South Africa",pattern:"27 XX XXX XXXX",emoji:"🇿🇦"},{phoneCode:"500",code:"GS",name:"South Georgia & South Sandwich Islands",pattern:"",emoji:"🇬🇸"},{phoneCode:"995 34",code:"",name:"South Ossetia",pattern:"",emoji:""},{phoneCode:"211",code:"SS",name:"South Sudan",pattern:"211 XX XXX XXXX",emoji:"🇸🇸"},{phoneCode:"34",code:"ES",name:"Spain",pattern:"34 XXX XXX XXX",emoji:"🇪🇸"},{phoneCode:"94",code:"LK",name:"Sri Lanka",pattern:"94 XX XXX XXXX",emoji:"🇱🇰"},{phoneCode:"249",code:"SD",name:"Sudan",pattern:"249 XX XXX XXXX",emoji:"🇸🇩"},{phoneCode:"597",code:"SR",name:"Suriname",pattern:"597 XXX XXXX",emoji:"🇸🇷"},{phoneCode:"47 79",code:"SJ",name:"Svalbard",pattern:"",emoji:"🇸🇯"},{phoneCode:"268",code:"SZ",name:"Swaziland",pattern:"268 XXXX XXXX",emoji:"🇸🇿"},{phoneCode:"46",code:"SE",name:"Sweden",pattern:"46 XX XXX XXXX",emoji:"🇸🇪"},{phoneCode:"41",code:"CH",name:"Switzerland",pattern:"41 XX XXX XXXX",emoji:"🇨🇭"},{phoneCode:"963",code:"SY",name:"Syria",pattern:"",emoji:"🇸🇾"},{phoneCode:"886",code:"TW",name:"Taiwan",pattern:"",emoji:"🇹🇼"},{phoneCode:"992",code:"TJ",name:"Tajikistan",pattern:"",emoji:"🇹🇯"},{phoneCode:"255",code:"TZ",name:"Tanzania",pattern:"255 XX XXX XXXX",emoji:"🇹🇿"},{phoneCode:"66",code:"TH",name:"Thailand",pattern:"66 X XXXX XXXX",emoji:"🇹🇭"},{phoneCode:"228",code:"TG",name:"Togo",pattern:"228 XX XXX XXX",emoji:"🇹🇬"},{phoneCode:"690",code:"TK",name:"Tokelau",pattern:"",emoji:"🇹🇰"},{phoneCode:"676",code:"TO",name:"Tonga",pattern:"",emoji:"🇹🇴"},{phoneCode:"1 868",code:"TT",name:"Trinidad & Tobago",pattern:"1868 XXX XXXX",emoji:"🇹🇹"},{phoneCode:"216",code:"TN",name:"Tunisia",pattern:"216 XX XXX XXX",emoji:"🇹🇳"},{phoneCode:"90",code:"TR",name:"Turkey",pattern:"90 XXX XXX XXXX",emoji:"🇹🇷"},{phoneCode:"993",code:"TM",name:"Turkmenistan",pattern:"993 XX XXXXXX",emoji:"🇹🇲"},{phoneCode:"1 649",code:"TC",name:"Turks & Caicos Islands",pattern:"1649 XXX XXXX",emoji:"🇹🇨"},{phoneCode:"688",code:"TV",name:"Tuvalu",pattern:"",emoji:"🇹🇻"},{phoneCode:"256",code:"UG",name:"Uganda",pattern:"256 XX XXX XXXX",emoji:"🇺🇬"},{phoneCode:"380",code:"UA",name:"Ukraine",pattern:"380 XX XXX XX XX",emoji:"🇺🇦"},{phoneCode:"971",code:"AE",name:"United Arab Emirates",pattern:"971 XX XXX XXXX",emoji:"🇦🇪"},{phoneCode:"44",code:"GB",name:"United Kingdom",pattern:"44 XXXX XXXXXX",emoji:"🇬🇧"},{phoneCode:"1",code:"US",name:"United States",pattern:"1 XXX XXX XXXX",emoji:"🇺🇸"},{phoneCode:"598",code:"UY",name:"Uruguay",pattern:"598 XXXX XXXX",emoji:"🇺🇾"},{phoneCode:"1 340",code:"VI",name:"U.S. Virgin Islands",pattern:"1340 XXX XXXX",emoji:"🇻🇮"},{phoneCode:"998",code:"UZ",name:"Uzbekistan",pattern:"998 XX XXXXXXX",emoji:"🇺🇿"},{phoneCode:"678",code:"VU",name:"Vanuatu",pattern:"",emoji:"🇻🇺"},{phoneCode:"58",code:"VE",name:"Venezuela",pattern:"58 XXX XXX XXXX",emoji:"🇻🇪"},{phoneCode:"39 06 698",code:"VA",name:"Vatican City",pattern:"",emoji:"🇻🇦"},{phoneCode:"84",code:"VN",name:"Vietnam",pattern:"",emoji:"🇻🇳"},{phoneCode:"681",code:"WF",name:"Wallis & Futuna",pattern:"",emoji:"🇼🇫"},{phoneCode:"967",code:"YE",name:"Yemen",pattern:"967 XXX XXX XXX",emoji:"🇾🇪"},{phoneCode:"260",code:"ZM",name:"Zambia",pattern:"260 XX XXX XXXX",emoji:"🇿🇲"},{phoneCode:"255",code:"",name:"Zanzibar",pattern:"",emoji:""},{phoneCode:"263",code:"ZW",name:"Zimbabwe",pattern:"263 XX XXX XXXX",emoji:"🇿🇼"}],i={1:s.find(e=>"United States"===e.name),44:s.find(e=>"United Kingdom"===e.name),61:s.find(e=>"Australia"===e.name),64:s.find(e=>"New Zealand"===e.name),246:s.find(e=>"Diego Garcia"===e.name),255:s.find(e=>"Tanzania"===e.name),262:s.find(e=>"Reunion"===e.name),500:s.find(e=>"Falkland Islands"===e.name),590:s.find(e=>"Guadeloupe"===e.name),672:s.find(e=>"Norfolk Island"===e.name),"1 268":s.find(e=>"Antigua & Barbuda"===e.name)};a.a.Countries=s,t.b=s},71:function(e,t,n){"use strict";var a=n(26),s=n(34),i=n(27);const o=new class{getState(){return i.a.invokeApi("account.getPassword").then(e=>e)}updateSettings(e={}){return this.getState().then(t=>{let n,a;const s={password:null,new_settings:{_:"account.passwordInputSettings",hint:e.hint,email:e.email}};n=e.currentPassword?i.a.computeSRP(e.currentPassword,t):Promise.resolve({_:"inputCheckPasswordEmpty"});const o=t.new_algo,r=new Uint8Array(o.salt1.length+32);return r.randomize(),r.set(o.salt1,0),o.salt1=r,a=e.newPassword?i.a.computeSRP(e.newPassword,t,!0):Promise.resolve(new Uint8Array),Promise.all([n,a]).then(e=>(s.password=e[0],s.new_settings.new_algo=o,s.new_settings.new_password_hash=e[1],i.a.invokeApi("account.updatePasswordSettings",s)))})}check(e,t,n={}){return i.a.computeSRP(e,t).then(e=>i.a.invokeApi("auth.checkPassword",{password:e},n).then(e=>("auth.authorization"===e._&&(s.a.saveApiUser(e.user),i.a.setUserAuth(e.user.id)),e)))}confirmPasswordEmail(e){return i.a.invokeApi("account.confirmPasswordEmail",{code:e})}resendPasswordEmail(){return i.a.invokeApi("account.resendPasswordEmail")}cancelPasswordEmail(){return i.a.invokeApi("account.cancelPasswordEmail")}};a.a.passwordManager=o,t.a=o},78:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(12);class s{constructor(e){this.element=document.body.querySelector("."+e.className),this.container=document.createElement("div"),this.container.className="container center-align",this.imageDiv=document.createElement("div"),this.imageDiv.className="auth-image",this.title=document.createElement("h4"),e.titleLangKey&&this.title.append(Object(a.i18n)(e.titleLangKey)),this.subtitle=document.createElement("p"),this.subtitle.className="subtitle",e.subtitleLangKey&&this.subtitle.append(Object(a.i18n)(e.subtitleLangKey)),this.container.append(this.imageDiv,this.title,this.subtitle),e.withInputWrapper&&(this.inputWrapper=document.createElement("div"),this.inputWrapper.className="input-wrapper",this.container.append(this.inputWrapper)),this.element.append(this.container)}}},81:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(2),s=n(38);class i extends s.b{constructor(e={}){super(Object.assign({plainText:!0},e)),this.passwordVisible=!1,this.onVisibilityClick=e=>{Object(a.a)(e),this.passwordVisible=!this.passwordVisible,this.toggleVisible.classList.toggle("eye-hidden",this.passwordVisible),this.input.type=this.passwordVisible?"text":"password",this.onVisibilityClickAdditional&&this.onVisibilityClickAdditional()};const t=this.input;t.type="password",t.setAttribute("required",""),t.autocomplete="off";const n=document.createElement("input");n.classList.add("stealthy"),n.tabIndex=-1,n.type="password",t.parentElement.prepend(n),t.parentElement.insertBefore(n.cloneNode(),t.nextSibling);const s=this.toggleVisible=document.createElement("span");s.classList.add("toggle-visible","tgico"),this.container.classList.add("input-field-password"),this.container.append(s),s.addEventListener("click",this.onVisibilityClick),s.addEventListener("touchend",this.onVisibilityClick)}}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(90);class s{constructor(e=!0,t=!0,n=0){this.cleanText=e,this.latinize=t,this.minChars=n,this.fullTexts=new Map}indexObject(e,t){if(t.trim()&&this.cleanText&&(t=Object(a.a)(t,this.latinize)),!t)return this.fullTexts.delete(e),!1;this.fullTexts.set(e,t)}search(e){const t=this.fullTexts;this.cleanText&&(e=Object(a.a)(e,this.latinize));const n=[],s=e.split(" "),i=s.length;t.forEach((e,t)=>{let a=!0,o=0;for(let t=0;t<i;++t){const n=s[t],i=e.indexOf(n);if(-1===i||0!==i&&" "!==e[i-1]){a=!1;break}o+=n.length}if(a){o+=i-1;const a=e.length;(this.minChars<=o||a<=o)&&n.push({fullText:e,fullTextLength:a,what:t,foundChars:o})}}),n.sort((e,t)=>e.fullTextLength-t.fullTextLength||t.foundChars-e.foundChars);return new Set(n.map(e=>e.what))}}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(47);class s{constructor(e,t){this.passwordInputField=e,this.size=t,this.needFrame=0,this.container=document.createElement("div"),this.container.classList.add("media-sticker-wrapper")}load(){return this.loadPromise?this.loadPromise:this.loadPromise=a.b.loadAnimationFromURL({container:this.container,loop:!1,autoplay:!1,width:this.size,height:this.size,noCache:!0},"assets/img/TwoFactorSetupMonkeyPeek.tgs").then(e=>(this.animation=e,this.animation.addEventListener("enterFrame",e=>{(1===this.animation.direction&&e>=this.needFrame||-1===this.animation.direction&&e<=this.needFrame)&&(this.animation.setSpeed(1),this.animation.pause())}),this.passwordInputField.onVisibilityClickAdditional=()=>{this.passwordInputField.passwordVisible?(this.animation.setDirection(1),this.animation.curFrame=0,this.needFrame=16,this.animation.play()):(this.animation.setDirection(-1),this.animation.curFrame=16,this.needFrame=0,this.animation.play())},a.b.waitForFirstFrame(e)))}remove(){this.animation&&this.animation.remove()}}},90:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(99);const s=/[`~!@#$%^&*()\-_=+\[\]\\|{}'";:\/?.>,<]+/g,i=/^\s+|\s$/g;function o(e,t=!0){const n="%"===e.charAt(0);return e=e.replace(s,"").replace(i,""),t&&(e=e.replace(/[^A-Za-z0-9]/g,e=>{const t=a.a.LatinizeMap[e];return void 0!==t?t:e})),e=e.toLowerCase(),n&&(e="%"+e),e}},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=1271266957},95:function(e,t,n){"use strict";function a(e){const t=document.createElement("span");return t.innerHTML=e,t}n.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=12.4ec98ea14010b6877268.chunk.js.map